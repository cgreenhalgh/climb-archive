{"version":3,"sources":["/root/work/src/$_lazy_route_resource lazy","/root/work/src/app/app-routing.module.ts","/root/work/src/app/app.component.css","/root/work/src/app/app.component.html","/root/work/src/app/app.component.ts","/root/work/src/app/app.module.ts","/root/work/src/app/entity.ts","/root/work/src/app/linkapps.service.ts","/root/work/src/app/parts-map.component.css","/root/work/src/app/parts-map.component.html","/root/work/src/app/parts-map.component.ts","/root/work/src/app/performance-detail.component.html","/root/work/src/app/performance-detail.component.ts","/root/work/src/app/playlist-form.component.css","/root/work/src/app/playlist-form.component.html","/root/work/src/app/playlist-form.component.ts","/root/work/src/app/playlist-item-form.component.html","/root/work/src/app/playlist-item-form.component.ts","/root/work/src/app/records.service.ts","/root/work/src/app/types.ts","/root/work/src/app/work-detail.component.html","/root/work/src/app/work-detail.component.ts","/root/work/src/app/work-explorer.component.css","/root/work/src/app/work-explorer.component.html","/root/work/src/app/work-explorer.component.ts","/root/work/src/app/works.component.html","/root/work/src/app/works.component.ts","/root/work/src/environments/environment.ts","/root/work/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { WorksComponent } from './works.component';\nimport { WorkDetailComponent } from './work-detail.component';\nimport { WorkExplorerComponent } from './work-explorer.component';\nimport { PerformanceDetailComponent } from './performance-detail.component';\n\nconst routes: Routes = [\n  { path: '', redirectTo: '/works', pathMatch: 'full' },\n  { path: 'works',  component: WorksComponent },\n  { path: 'work/:id', component: WorkDetailComponent },\n  { path: 'performance/:id', component: PerformanceDetailComponent },\n  { path: 'explore/:id', component: WorkExplorerComponent }\n];\n\n@NgModule({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/app-routing.module.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\r\\n\\tpadding-top: 5rem;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<nav\\n\\tclass=\\\"navbar navbar-inverse bg-inverse \\\">\\n\\t<button class=\\\"navbar-toggler navbar-toggler-right\\\" type=\\\"button\\\" (click)=\\\"isNavbarCollapsed = !isNavbarCollapsed\\\"\\n\\t\\taria-controls=\\\"exCollapsingNavbar2\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n\\t\\t<span class=\\\"navbar-toggler-icon\\\"></span>\\n\\t</button>\\n\\t<a class=\\\"navbar-brand\\\" href=\\\"#\\\">{{title}}</a>\\n\\t<div [ngbCollapse]=\\\"isNavbarCollapsed\\\" class=\\\"collapse navbar-toggleable-xs\\\" id=\\\"exCollapsingNavbar2\\\">\\n\\n\\t\\t<ul class=\\\"nav navbar-nav mr-auto\\\">\\n\\t\\t\\t<li class=\\\"nav-item\\\">\\n\\t\\t\\t\\t<a class=\\\"nav-link\\\" routerLink=\\\"/works\\\" routerLinkActive=\\\"active\\\">Works</a>\\n\\t\\t\\t</li>\\n\\t\\t</ul>\\n\\t</div>\\n</nav>\\n\\n<div class=\\\"container\\\">\\n\\t<ngb-alert type=\\\"info\\\" (close)=\\\"closeResearchWarning()\\\" *ngIf=\\\"!research.dismissed\\\">{{research.warning}}</ngb-alert>\\n</div>\\n\\n<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n \n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'Music Archive';\n  public isNavbarCollapsed:boolean = true;\n\tresearch = {\n\t\tdismissed: true,\n\t\twarning: \"This website collects anonymous data about how it is used. Neither you nor this device can be identified from the collected data.\"\n\t};\n\tcloseResearchWarning() {\n\t\t// TODO persist\n\t\tthis.research.dismissed = true;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpModule }    from '@angular/http';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { AppComponent } from './app.component';\nimport { WorksComponent } from './works.component';\nimport { WorkDetailComponent } from './work-detail.component';\nimport { WorkExplorerComponent } from './work-explorer.component';\nimport { PerformanceDetailComponent } from './performance-detail.component';\nimport { PartsMapComponent } from './parts-map.component';\nimport { RecordsService } from './records.service';\nimport { LinkappsService } from './linkapps.service';\nimport { PlaylistFormComponent } from './playlist-form.component';\nimport { PlaylistItemFormComponent } from './playlist-item-form.component';\nimport { AppRoutingModule } from './app-routing.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    WorksComponent,\n    WorkDetailComponent,\n    WorkExplorerComponent,\n    PerformanceDetailComponent,\n    PartsMapComponent,\n    PlaylistItemFormComponent,\n    PlaylistFormComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AppRoutingModule,\n    HttpModule,\n    NgbModule.forRoot()\n  ],\n  providers: [RecordsService, LinkappsService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/app.module.ts","// general entity\n\nexport class Entity {\n\tid: string;\n\ttype_id: string;\n\tlabel: string;\n\tdescription: string;\n\tfields: object;\n\n\tconstructor(fields: object) {\n\t\tthis.fields = fields;\n\t\tthis.id = fields['annal:id'];\n\t\tthis.type_id = fields['annal:type_id'];\n\t\tthis.label = fields['rdfs:label'];\n\t\tthis.description = fields['rdfs:comment'];\n\t}\n\tgetValues(fieldname: string, subfieldname?: string) : string[] {\n\t\tvar res = [];\n\t\t//console.log('getValues('+fieldname+', subfieldname) on '+this.type_id+'/'+this.id);\n\t\tsubfieldname = subfieldname ? subfieldname : fieldname;\n\t\tif (undefined!==this.fields[fieldname]) {\n\t\t\tlet val = this.fields[fieldname];\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\tfor (let item of val) {\n\t\t\t\t\tif (typeof(item)=='string')\n\t\t\t\t\t\tres.push(item);\n\t\t\t\t\telse if (typeof(item)=='number')\n\t\t\t\t\t\tres.push(String(item))\n\t\t\t\t\telse if (typeof(item)=='object' && item[subfieldname]!==undefined && typeof(item[subfieldname])=='string')\n\t\t\t\t\t\tres.push(item[subfieldname]);\n\t\t\t\t\telse if (typeof(item)=='object' && item[subfieldname]!==undefined && typeof(item[subfieldname])=='number')\n\t\t\t\t\t\tres.push(Number(item[subfieldname]));\n\t\t\t\t\telse\n\t\t\t\t\t\tconsole.log('getValues for non-string array value '+JSON.stringify(item)+':'+typeof(item));\n\t\t\t\t}\n\t\t\t} else if (typeof(val)=='string') {\n\t\t\t\tres.push(val);\n\t\t\t} else if (typeof(val)=='number') {\n\t\t\t\tres.push(String(val));\n\t\t\t} else {\n\t\t\t\tconsole.log('getValues for non-string value '+val+':'+typeof(val));\n\t\t\t}\n\t\t}\n\t\t//console.log(res);\n\t\treturn res;\n\t}\n\tgetNumberValues(fieldname: string, subfieldname?: string) : number[] {\n\t\tvar res = [];\n\t\t//console.log('getValues('+fieldname+', subfieldname) on '+this.type_id+'/'+this.id);\n\t\tsubfieldname = subfieldname ? subfieldname : fieldname;\n\t\tif (undefined!==this.fields[fieldname]) {\n\t\t\tlet val = this.fields[fieldname];\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\tfor (let item of val) {\n\t\t\t\t\tif (typeof(item)=='number')\n\t\t\t\t\t\tres.push(item);\n\t\t\t\t\telse if (typeof(item)=='object' && item[subfieldname]!==undefined && typeof(item[subfieldname])=='number')\n\t\t\t\t\t\tres.push(item[subfieldname]);\n\t\t\t\t\telse\n\t\t\t\t\t\tconsole.log('getNumberValues for non-number array value '+JSON.stringify(item)+':'+typeof(item));\n\t\t\t\t}\n\t\t\t} else if (typeof(val)=='number') {\n\t\t\t\tres.push(val);\n\t\t\t} else {\n\t\t\t\tconsole.log('getNumberValues for non-number value '+val+':'+typeof(val));\n\t\t\t}\n\t\t}\n\t\t//console.log(res);\n\t\treturn res;\n\t}\n\tgetValue(fieldname:string, subfieldname?:string): string {\n\t\tlet vs = this.getValues(fieldname, subfieldname);\n\t\tif (vs.length==0)\n\t\t\treturn '';\n\t\treturn vs[0];\n\t}\n\tgetNumberValue(fieldname:string, subfieldname?:string): number {\n\t\tlet vs = this.getNumberValues(fieldname, subfieldname);\n\t\tif (vs.length==0)\n\t\t\treturn 0;\n\t\treturn vs[0];\n\t}\n\tgetTime(fieldname:string, subfieldname?:string): number {\n\t\tlet v = this.getValue(fieldname, subfieldname);\n\t\tif (''==v || !v)\n\t\t\treturn 0;\n\t\treturn new Date(v).getTime()*0.001;\n\t}\n\tcompareTo(b: Entity, field:string) {\n\t\tlet v1 = this.getValues(field);\n\t\tlet v2 = b.getValues(field);\n\t\tif (v1.length==0) {\n\t\t\tif (v2.length==0)\n\t\t\t\treturn 0;\n\t\t\treturn 1;\n\t\t}\n\t\tif (v2.length==0)\n\t\t\treturn -1;\n\t\treturn v1[0].localeCompare(v2[0]);\n\t}\n\tcompareToNumber(b: Entity, field:string) {\n\t\tlet v1 = this.getValues(field);\n\t\tlet v2 = b.getValues(field);\n\t\tif (v1.length==0) {\n\t\t\tif (v2.length==0)\n\t\t\t\treturn 0;\n\t\t\treturn 1;\n\t\t}\n\t\tif (v2.length==0)\n\t\t\treturn -1;\n\t\treturn Number(v1[0])-Number(v2[0]);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/entity.ts","import { Injectable, EventEmitter } from '@angular/core';\n//import { RTCPeerConnection } from 'webrtc';\n\n@Injectable()\nexport class LinkappsService {\n\tapp:Window;\n    messageEmitter:EventEmitter<any> = new EventEmitter();\n    meldWindow:Window;\n\n\tconstructor() {\n\t\tconsole.log('created LinkappsService')\n\t\twindow.addEventListener('message', (ev) => this.onMessage(ev))\n\t}\n\tonMessage(ev:MessageEvent) {\n\t\tconsole.log('window message: ', ev)\n\t\tif (typeof ev.data =='string') {\n\t\t\tlet msg = JSON.parse(ev.data)\n\t\t\tif ('mrl-music.archive/1.0'!=msg.version) {\n\t\t\t\tconsole.log('ignore window message with no/wrong version: ', ev.data)\n\t\t\t\treturn\n\t\t\t}\n            this.messageEmitter.emit(msg);\n\t\t}\n\t}\n    getEmitter(): EventEmitter<any> {\n        return this.messageEmitter;\n    }\n    openMeld() {\n        console.log('open meld');\n        this.meldWindow = window.open('http://localhost:8080/archive', 'meldwindow', null); \n    }\n    meldPartPerformance(partid:string, performanceid:string) {\n        if (!this.meldWindow)\n            return;\n        if (!performanceid)\n          return;\n        if (partid) {\n          partid = partid.replace('Climb_', '');\n        }\n        else {\n          partid = 'basecamp';\n        }\n        console.log(`set meld part ${partid} performance ${performanceid}`);\n        // avoid: race\n        //this.meldWindow.postMessage({type: \"performance\", payload:performanceid}, \"*\"); \n        //this.meldWindow.postMessage({type: \"fragment\", payload:partid}, \"*\");\n        this.meldWindow = window.open('http://localhost:8080/archive?perf='+encodeURIComponent(performanceid)+'&frag='+encodeURIComponent(partid), 'meldwindow', null); \n    }\n//\topenApp():void {\n//\t\tconsole.log('open app window')\n//\t\tthis.app = window.open('http://localhost:8080/1/archive-muzivisual/', 'archive-muzivisual');\n//\t}\n\n/*\n    // Create peer connections and add behavior.\n    let peerConnection = new RTCPeerConnection({iceServers:[]});\n    console.log('Created peer connection object.');\n\n    window.addEventListener('message', (ev) => {\n      console.log('on message: '+ev.data)\n      if (typeof ev.data =='string') {\n        let msg = JSON.parse(ev.data)\n        if (msg.iceCandidate) {\n          console.log('received ice candidate!')\n          if(!peerConnection.remoteDescription.type)\n            console.log('warning: remoteDescription type null')\n          peerConnection.addIceCandidate(msg.iceCandidate)\n          .catch((err) => {\n            console.log('error add ice candidate '+ev.data, err)\n          })\n        }\n        if (msg.remoteDescription) {\n          console.log('received remote description!')\n          peerConnection.setRemoteDescription(msg.remoteDescription)\n          .catch((err) => {\n            console.log('error add remote description '+ev.data, err)\n          })\n        }\n      }\n    })\n\n    peerConnection.addEventListener('icecandidate', function(ev) {\n      //console.log('icecandidate', ev);\n      const peerConnection = ev.target;\n      const iceCandidate = ev.candidate;\n\n      if (iceCandidate) {\n        //const newIceCandidate = new RTCIceCandidate(iceCandidate);\n        console.log('ice candidate: '+JSON.stringify(iceCandidate));\n        // send to app window\n        let data = JSON.stringify({iceCandidate:iceCandidate});\n        app.postMessage(data, '*');\n        console.log('sent window message '+data);\n      }\n    });\n    peerConnection.addEventListener('iceconnectionstatechange', function(ev) {\n      // event.target\n      console.log('ICE state change event: ', ev);\n    });\n    \n    // single fixed id and name (=[out of band] negotiated)\n    // Note: typescript error unknown createDataChannel\n    let channel = (peerConnection as any).createDataChannel('linkapps', {ordered:true})//, negotiated:true, id:123\n    channel.onopen = function(event) {\n      console.log('channel open');\n      channel.send('Hi you 2!');\n    };\n    channel.onmessage = function(event) {\n      console.log('channel onmessage: ', event.data);\n    };\n    // Note: typescript error expects old arguments with success callback first\n    // on negotiation needed - see https://www.w3.org/TR/webrtc/#simple-peer-to-peer-example\n    peerConnection.createOffer(function(sessionDesc) {\n      console.log('created offer', sessionDesc)\n      peerConnection.setLocalDescription(sessionDesc);\n      //peerConnection.setRemoteDescription(sessionDesc);\n      let data = JSON.stringify({remoteDescription:sessionDesc})\n      app.postMessage(data, '*')\n    }, function(err) {\n      console.log('error creating offer', err);\n    });\n*/\n}\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/linkapps.service.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* parts-map css */\\n\\n.parts-map {\\n\\t\\n}\\n.part-g circle {\\n\\tstroke: black;\\n\\tstroke-width: 4px;\\n\\topacity: 1;\\n\\tcursor: pointer;\\n\\t-webkit-user-select: none;\\n\\t   -moz-user-select: none;\\n\\t    -ms-user-select: none;\\n\\t        user-select: none;\\n}\\n\\n.part-g-heatmap circle {\\n\\tstroke: black;\\n\\tstroke-width: 4px;\\n\\topacity: 1;\\n\\tcursor: pointer;\\n\\t-webkit-user-select: none;\\n\\t   -moz-user-select: none;\\n\\t    -ms-user-select: none;\\n\\t        user-select: none;\\n}\\n\\n.part-g.default circle {\\n\\tfill: rgb(80,80,80);\\n}\\n.part-g.selected circle {\\n\\tfill: #C3C2F4;\\n}\\n\\n.part-g.available circle {\\n\\tfill: rgb(255, 165, 0);\\n}\\n\\n.part-g.active circle {\\n\\tfill: #C3C2F4;\\n}\\n\\n.part-g text {\\n\\tfill: rgb(192,192,192);\\n\\tfont-family: Verdana;\\n\\tfont-size: 20px;\\n\\t/*cursor: pointer;*/\\n\\t-webkit-user-select: none;\\n\\t   -moz-user-select: none;\\n\\t    -ms-user-select: none;\\n\\t        user-select: none;\\n}\\n.part-line {\\n\\tstroke: rgb(100,100,100);\\n\\tstroke-width: 4px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/parts-map.component.css\n// module id = ../../../../../src/app/parts-map.component.css\n// module chunks = main","module.exports = \"<!-- parts-map -->\\n\\t<svg class=\\\"parts-map img-fluid\\\" viewBox=\\\"0 0 400 400\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink= \\\"http://www.w3.org/1999/xlink\\\" width=\\\"400px\\\" height=\\\"400px\\\">\\n\\t\\t<!-- cludge to cut off top/bottom -->\\n\\t\\t<g [attr.transform]=\\\"work.id=='Climb' ? 'matrix(0.4 0 0 0.4 0 -70)' : 'scale(0.4)'\\\">\\n\\t\\t\\t<!-- and again for image/coordinate offset - don't know why at all on this one! -->\\n\\t\\t\\t<g [attr.transform]=\\\"work.id=='Climb' ? 'matrix(1.0 0 0 1.0 0 10)' : 'scale(1)'\\\">\\n\\t\\t\\t\\t<image [attr.xlink:href]=\\\"work.getValue('coll:map_url')\\\" x=\\\"0\\\" y=\\\"0\\\" width=\\\"1000px\\\" height=\\\"1500px\\\" preserveAspectRatio=\\\"none\\\"></image>\\n\\t\\t\\t</g>\\n\\t\\t\\t<line *ngFor=\\\"let line of lines\\\"\\n\\t\\t\\t\\t[attr.x1]=\\\"line.from.getNumberValue('coll:map_x')*1000\\\"\\n\\t\\t\\t\\t[attr.y1]=\\\"line.from.getNumberValue('coll:map_y')*1500\\\" \\n\\t\\t\\t\\t[attr.x2]=\\\"line.to.getNumberValue('coll:map_x')*1000\\\"\\n\\t\\t\\t\\t[attr.y2]=\\\"line.to.getNumberValue('coll:map_y')*1500\\\" \\n\\t\\t\\t\\tclass=\\\"part-line\\\">\\n\\t\\t\\t</line>\\n\\t\\t\\t<g *ngFor=\\\"let part of parts\\\" [attr.transform]=\\\"'translate('+(part.getNumberValue('coll:map_x')*1000)+' '+(part.getNumberValue('coll:map_y')*1500)+')'\\\"\\n\\t\\t\\t\\tclass=\\\"part-g\\\" [ngClass]=\\\"{'active': part.active, 'available': part.available, 'selected': part.selected, 'default': !part.selected && !part.active && !part.available }\\\">\\n\\t\\t\\t\\t<text x=\\\"0\\\" y=\\\"40\\\" text-anchor=\\\"middle\\\" class=\\\"part-label\\\">{{part.label}}</text>\\n\\t\\t\\t</g>\\n\\t\\t\\t<g *ngFor=\\\"let part of parts\\\" [attr.transform]=\\\"'translate('+(part.getNumberValue('coll:map_x')*1000)+' '+(part.getNumberValue('coll:map_y')*1500)+')'\\\"\\n\\t\\t\\t\\tclass=\\\"part-g\\\" [ngClass]=\\\"{'active': part.active, 'available': part.available, 'selected': part.selected, 'default': !part.selected && !part.active && !part.available }\\\">\\n\\t\\t\\t\\t<a *ngIf=\\\"!heatmap\\\" (click)=\\\"clickPartPlay($event,part)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t\\t<circle class=\\\"part-circle\\\" r=\\\"20\\\"></circle>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</g>\\n\\t\\t\\t<g *ngFor=\\\"let part of parts\\\" [attr.transform]=\\\"'translate('+(part.getNumberValue('coll:map_x')*1000)+' '+(part.getNumberValue('coll:map_y')*1500)+')'\\\"\\n\\t\\t\\t\\tclass=\\\"part-g-heatmap\\\" [ngClass]=\\\"{'active': part.active, 'available': part.available, 'selected': part.selected, 'default': !part.selected && !part.active && !part.available }\\\">\\n\\t\\t\\t\\t<a *ngIf=\\\"heatmap\\\" (click)=\\\"clickPartPlay($event,part)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t\\t<circle class=\\\"part-circle\\\" r=\\\"20\\\" [style]=\\\"part.heatmapStyle\\\"></circle>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t</g>\\n\\t\\t</g>\\n\\t</svg>\\n\\t<!-- <ul>\\n\\t\\t<li *ngFor=\\\"let part of parts\\\">{{part.label}}</li>\\n\\t</ul> -->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/parts-map.component.html\n// module id = ../../../../../src/app/parts-map.component.html\n// module chunks = main","import { Component, Input, Output, EventEmitter, OnChanges } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { Entity } from './entity';\n\nclass Line {\n\tconstructor(public from:Entity, public to:Entity) {}\n}\n\n@Component({\n\tselector: 'parts-map',\n\ttemplateUrl: './parts-map.component.html',\n\tstyleUrls: ['./parts-map.component.css']\n})\nexport class PartsMapComponent implements OnChanges {\n\t@Input() parts: Entity[];\n\t@Input() work: Entity;\n  @Input() heatmap: boolean;\n    @Output() select: EventEmitter<any> = new EventEmitter();\n\tlines: Line[] = [];\n\t\n  constructor (private domSanitizer: DomSanitizer) {}\n\n\tclickPartPlay(event,part) {\n\t\t//console.log('parts-map clickPartPlay '+part.id);\n\t\tthis.select.emit(part);\n\t}\n\tngOnChanges(changes: any) {\n\t\tconsole.log('onChanges', changes);\n\t\tif (changes.parts && changes.parts.currentValue) {\n\t\t\tvar parts = {};\n\t\t\tfor (var pi in changes.parts.currentValue) {\n\t\t\t\tparts[changes.parts.currentValue[pi].getValue('coll:part_id')] = changes.parts.currentValue[pi];\n\t\t\t}\n\t\t\tvar lines = [];\n\t\t\tfor (var pi in parts) {\n\t\t\t\tlet part = parts[pi];\n\t\t\t\tlet cues = part.getValues('coll:map_cue');\n\t\t\t\tfor (var ci in cues) {\n\t\t\t\t\tlet cue = parts[cues[ci]];\n\t\t\t\t\tif (cue) {\n\t\t\t\t\t\tlines.push(new Line(part, cue));\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log('line from '+part.id+' to '+cues[ci]);\n\t\t\t\t}\n        part.heatmapStyle = this.domSanitizer.bypassSecurityTrustStyle('fill:'+part.heatmapColor+';');\n\t\t\t}\n\t\t\tthis.lines = lines;\n\t\t}\n\t}\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/parts-map.component.ts","module.exports = \"<div class=\\\"container\\\" *ngIf=\\\"performance\\\"><h3>{{performance.label}}</h3>\\n\\t<p>At {{performance.getValue('prov:startedAtTime')}}</p>\\n\\t<h4>Performers</h4>\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let perf of performers\\\">{{perf.label}}</li>\\n\\t</ul>\\n\\t<h4>Sub-events</h4>\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let sub of subevents\\\">{{sub.getValue('prov:startedAtTime')}}: {{sub.label}}</li>\\n\\t</ul>\\n\\t<h4>Recordings</h4>\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let rec of recordings\\\">{{rec.label}} <a *ngFor=\\\"let url of rec.getValues('urls')\\\" href=\\\"{{url}}\\\">{{url}} </a></li>\\n\\t</ul>\\n\\t<button (click)=\\\"goBack()\\\">Back</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/performance-detail.component.html\n// module id = ../../../../../src/app/performance-detail.component.html\n// module chunks = main","import 'rxjs/add/operator/switchMap';\nimport { Component, OnInit }      from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Location }               from '@angular/common';\n\nimport { Entity } from './entity';\nimport { RecordsService }  from './records.service';\n\n@Component({\n  selector: 'performance-detail',\n  templateUrl: './performance-detail.component.html'\n})\nexport class PerformanceDetailComponent implements OnInit {\n  performance: Entity;\n  subevents: Entity[] = [];\n  recordings: Entity[] = [];\n  performers: Entity[] = [];\n\n  constructor(\n    private recordsService: RecordsService,\n    private route: ActivatedRoute,\n    private location: Location\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params\n      .switchMap((params: Params) => this.recordsService.getPerformance(params['id']))\n      .subscribe(performance => { this.performance = performance; \n        this.recordsService.getPerformersOfPerformance(performance)\n        .then(performers => { /*console.log(subevents);*/ this.performers = performers\n          .sort((a,b) => a.compareTo(b, 'rdfs:label'))});\n        this.recordsService.getSubEvents(performance)\n        .then(subevents => { /*console.log(subevents);*/ this.subevents = subevents\n          .sort((a,b) => a.compareTo(b, 'prov:startedAtTime'))});\n        this.recordsService.getRecordingsOfPerformance(performance)\n        .then(recordings => { \n          Promise.all( recordings.map(rec => this.recordsService.getUrlsOfRecording(rec).then(urls => rec.fields['urls'] = urls)) )\n          .then(() => this.recordings = recordings)\n        })});\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/performance-detail.component.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".modal {\\n  background: rgba(0,0,0,0.6);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/playlist-form.component.css\n// module id = ../../../../../src/app/playlist-form.component.css\n// module chunks = main","module.exports = \"<div class=\\\"modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" [ngStyle]=\\\"{'display': 'block'}\\\">\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\">Edit Playlist</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"revert()\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"form-group\\\">\\n          <label class=\\\"center-block\\\">Title:</label>\\n          <input class=\\\"form-control\\\" formControlName=\\\"title\\\">\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label class=\\\"center-block\\\">Import:</label>\\n          <input type=\\\"file\\\" (change)=\\\"fileUpdated($event)\\\" formControlName=\\\"file\\\" accept=\\\"application/json\\\"/>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button [disabled]=\\\"disabled || !form.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Save</button>\\n        <button [disabled]=\\\"disabled\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"onExport()\\\">Export</button>\\n        <button [disabled]=\\\"disabled\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"revert()\\\">Cancel</button>\\n        <button [disabled]=\\\"disabled\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"onDelete()\\\">Delete</button>\\n      </div>\\n    </form>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/playlist-form.component.html\n// module id = ../../../../../src/app/playlist-form.component.html\n// module chunks = main","import { Component, Input, OnChanges, Output, EventEmitter } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { PlaylistInfo } from './types';\n\n@Component({\n  selector: 'playlist-form',\n  templateUrl: './playlist-form.component.html',\n  styleUrls: ['./playlist-form.component.css']\n})\nexport class PlaylistFormComponent implements OnChanges  {\n  @Input() playlist: PlaylistInfo;\n  @Input() disabled: boolean;\n  @Output() save: EventEmitter<PlaylistInfo> = new EventEmitter();\n  @Output() cancel: EventEmitter<any> = new EventEmitter();\n  @Output() dodelete: EventEmitter<any> = new EventEmitter();\n  @Output() doexport: EventEmitter<PlaylistInfo> = new EventEmitter();\n  form: FormGroup\n  file: File\n\n  \n  constructor(\n    private fb: FormBuilder\n  ) { \n    this.createForm();\n  }\n  createForm() { \n    this.form = this.fb.group({\n      title: ['', Validators.required ],\n      file: [''],\n     });\n  }\n  ngOnChanges() {\n    this.rebuildForm();\n    if (this.disabled)\n      this.form.disable();\n    else\n      this.form.enable();\n  }\n  rebuildForm() {\n    console.log('rebuild form', this.playlist);\n    this.form.reset(this.playlist);\n  }\n  fileUpdated($event) {\n    const files = $event.target.files || $event.srcElement.files;\n    this.file = files[0];\n    console.log('change file', this.file);\n    var reader = new FileReader();\n    reader.addEventListener(\"loadend\", () => {\n      // reader.result contains the contents of blob as a typed array\n      let text = reader.result;\n      try {\n        let info:PlaylistInfo = JSON.parse(text) as PlaylistInfo;\n        if (info.title===undefined || info.items===undefined) {\n          console.log('does not resemble playlist',info);\n          alert('Sorry, that does not seem to be a valid playlist');\n        }\n        console.log('read playlist', info);\n        this.playlist = info;\n        this.rebuildForm();\n      } catch(err) {\n        console.log('error parsing file as json',err);\n        alert('Sorry, that does not seem to be a valid playlist');\n      }\n    });\n    reader.readAsText(this.file);\n  }\n  onSubmit() {\n    this.playlist = this.prepareSavePlaylist()\n    this.rebuildForm();\n    this.save.emit(this.playlist);\n  }\n  prepareSavePlaylist(): PlaylistInfo {\n    const formModel = this.form.value;\n    const savePlaylist:PlaylistInfo = {\n      title: formModel.title,\n      items: this.playlist.items,\n    }\n    return savePlaylist;\n  }\n  revert() {\n    this.rebuildForm();\n    this.cancel.emit(null);\n  }\n  onDelete() {\n    this.dodelete.emit(null);\n  }\n  onExport() {\n    let playlist = this.prepareSavePlaylist()\n    this.doexport.emit(playlist);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/playlist-form.component.ts","module.exports = \"<div class=\\\"modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" [ngStyle]=\\\"{'display': 'block'}\\\">\\n  <div class=\\\"modal-dialog\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\">Edit Playlist Item</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"revert()\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"form-group\\\">\\n          <label class=\\\"center-block\\\">Title:</label>\\n          <input class=\\\"form-control\\\" formControlName=\\\"title\\\">\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label class=\\\"center-block\\\">Start Time:</label>\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"resetStartTime()\\\">Clear</button>\\n          <button *ngIf=\\\"item.currentTime!==undefined\\\" type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"setStartTime()\\\">Now</button>\\n          <input class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"startTime\\\">\\n        </div>\\n        <div class=\\\"form-group\\\">\\n          <label class=\\\"center-block\\\">End Time:</label>\\n          <button type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"resetEndTime()\\\">Clear</button>\\n          <button *ngIf=\\\"item.currentTime!==undefined\\\" type=\\\"button\\\" class=\\\"btn btn-secondary btn-sm\\\" (click)=\\\"setEndTime()\\\">Now</button>\\n          <input class=\\\"form-control\\\" type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"endTime\\\">\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <button [disabled]=\\\"disabled || !form.valid\\\" type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Save</button>\\n        <button [disabled]=\\\"disabled\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"revert()\\\">Cancel</button>\\n        <button [disabled]=\\\"disabled\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"onDelete()\\\">Delete</button>\\n      </div>\\n    </form>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/playlist-item-form.component.html\n// module id = ../../../../../src/app/playlist-item-form.component.html\n// module chunks = main","import { Component, Input, OnChanges, Output, EventEmitter } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { PlaylistItem } from './types';\n\n@Component({\n  selector: 'playlist-item-form',\n  templateUrl: './playlist-item-form.component.html',\n  styleUrls: ['./playlist-form.component.css']\n})\nexport class PlaylistItemFormComponent implements OnChanges  {\n  @Input() item: PlaylistItem;\n  @Input() disabled: boolean;\n  @Output() save: EventEmitter<PlaylistItem> = new EventEmitter();\n  @Output() cancel: EventEmitter<any> = new EventEmitter();\n  @Output() dodelete: EventEmitter<any> = new EventEmitter();\n  form: FormGroup\n\n  \n  constructor(\n    private fb: FormBuilder\n  ) { \n    this.createForm();\n  }\n  createForm() { \n    this.form = this.fb.group({\n      title: ['', Validators.required ],\n      startTime: [''],\n      endTime: [''],\n     });\n  }\n  ngOnChanges() {\n    this.rebuildForm();\n    if (this.disabled)\n      this.form.disable();\n    else\n      this.form.enable();\n  }\n  rebuildForm() {\n    console.log('rebuild form', this.item);\n    this.form.reset(this.item);\n  }\n  onSubmit() {\n    this.item = this.prepareSaveItem()\n    this.rebuildForm();\n    this.save.emit(this.item);\n  }\n  prepareSaveItem(): PlaylistItem {\n    const formModel = this.form.value;\n    const saveItem:PlaylistItem = {\n      title: formModel.title,\n      performance: this.item.performance,\n      part: this.item.part,\n      startTime: (formModel.startTime ? Number(formModel.startTime) : null),\n      endTime: (formModel.endTime ? Number(formModel.endTime) : null),\n    }\n    return saveItem;\n  }\n  revert() {\n    this.rebuildForm();\n    this.cancel.emit(null);\n  }\n  onDelete() {\n    this.dodelete.emit(null);\n  }\n  resetStartTime() {\n    this.form.get('startTime').setValue(null);\n  }\n  setStartTime() {\n    this.form.get('startTime').setValue(this.item.currentTime);\n  }\n  resetEndTime() {\n    this.form.get('endTime').setValue(null);\n  }\n  setEndTime() {\n    this.form.get('endTime').setValue(this.item.currentTime);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/playlist-item-form.component.ts","import { Injectable } from '@angular/core';\nimport { Headers, Http } from '@angular/http';\n\nimport { Entity } from './entity';\n\nimport 'rxjs/add/operator/toPromise';\n\n@Injectable()\nexport class RecordsService {\n  private recordsUrl = 'assets/data/urls.json';\n  private records:Entity[] = [];\n  private rawRecords:object[][] = [];\n  private recordsPromise: Promise<Entity[]> = null;\n\n  constructor(private http: Http) { }\n\n  getRecords(): Promise<Entity[]> {\n    if (this.recordsPromise!==null)\n      return this.recordsPromise;\n    this.recordsPromise = this.http.get(this.recordsUrl)\n             .toPromise()\n             // get all names files then concat\n             .then(response => {\n               let urls = response.json()\n               console.log('read '+urls.length+' urls');\n               return Promise.all(\n                    urls.map((url, ix) => {\n                      return this.http.get(url)\n                       .toPromise().then((response) => {\n                         let records = response.json()['annal:entity_list']\n                         this.rawRecords[ix] = records;\n                         console.log('read '+url+' => '+records.length+' records'); \n                       })\n                    })\n               )\n               .then(res=> this.fixRecords())\n             })\n             .catch(this.handleError);\n    return this.recordsPromise;\n  }\n  private fixRecords(): Entity[] {\n    console.log('fixRecords '+this.rawRecords.length);\n    this.records = [];\n    var ids = {};\n    // in reverse order\n    var rrs = this.rawRecords.reverse();\n    for (let rr of rrs) {\n      var rs = rr.reverse(); // probably not needed\n      for (let r of rs) {\n        let id = r['annal:type_id']+'/'+r['annal:id'];\n        if (ids[id]===undefined) {\n          ids[id] = r;\n          this.records.push(new Entity(r));\n          //console.log('added '+id);\n        }\n      }\n    }\n    console.log('fixRecords -> total '+this.records.length+' records');\n    return this.records;\n  }\n\tgetEntity(type_id:string, id:string): Promise<Entity> {\n\t\t return this.getRecords().then(records =>\n\t\t\trecords.find(record => record.type_id==type_id && record.id==id));\n\t}\n  getWork(id:string): Promise<Entity> {\n\treturn this.getEntity('Performed_work', id);\n  }\n  getWorks(): Promise<Entity[]> {\n    return this.getRecords().then(records => records.filter(record => record.type_id=='Performed_work'));\n  }\n\tgetPerformancesOfWork(work:Entity): Promise<Entity[]> {\n\t\treturn this.getRecords().\n\t\t\tthen(records => records.filter\n\t\t\t(record => 'Performance'==record.type_id &&\n\t\t\t!record.getValue('coll:hidden') &&\n\t\t\trecord.getValues('frbroo:R25F_performed_r','frbroo:R25F_performed').indexOf(work.type_id+'/'+work.id)>=0));\n\t}\n\tgetPerformance(id:string): Promise<Entity> {\n\t\treturn this.getRecords().then(records => records.find(record => record.type_id=='Performance' && record.id==id));\n\t}\n\tgetValuesAsEntities(entity:Entity, fieldname:string, subfieldname?:string): Promise<Entity[]> {\n\t\tlet eventids = entity.getValues(fieldname, subfieldname);\n\t\tvar subevents = [];\n\t\treturn Promise.all(eventids.map(eventid => \n\t\t{\n\t\t\tlet parts = eventid.split('/');\n\t\t\tthis.getEntity(parts[0], parts[1])\n\t\t\t.then(e => { \n\t\t\t\tif (e) subevents.push(e);\n\t\t\t\telse {\n\t\t\t\t\tconsole.log('Error: could not find subevent '+parts[0]+'/'+parts[1]);\n\t\t\t\t}\n\t\t\t})\n\t\t})).then(() => subevents); \n\t}\n\tgetSubEvents(entity:Entity): Promise<Entity[]> {\n\t\treturn this.getValuesAsEntities(entity, 'event:sub_event');\n\t}\n\tgetMembers(entity:Entity): Promise<Entity[]> {\n\t\treturn this.getValuesAsEntities(entity, 'frbroo:R10_has_member');\n\t}\n\tgetRecordingsOfPerformance(performance:Entity): Promise<Entity[]> {\n\t\treturn this.getRecords().\n\t\t\tthen(records => records.filter\n\t\t\t(record => 'Recording'==record.type_id &&\n\t\t\trecord.getValues('mo:records').indexOf(performance.type_id+'/'+performance.id)>=0));\n\t}\n\tgetUrlsOfRecording(recording:Entity): Promise<string[]> {\n\t\treturn this.getValuesAsEntities(recording, 'coll:linked_audio_clips', 'coll:linked_audio_m').\n\t\t\tthen(audio_clips => \n\t\t\t{var urls=audio_clips.map(audio_clip => audio_clip.getValue('coll:audio_clip')); /*console.log('urls',urls); */ return urls;});\n\t}\n  getPerformersOfPerformance(performance:Entity): Promise<Entity[]> {\n    return this.getValuesAsEntities(performance, 'prov:qualifiedAssociation', 'crm:P12i_was_present_at');\n  }\n\tgetComposersOfWork(work:Entity): Promise<Entity[]> {\n\t\treturn this.getValuesAsEntities(work, 'annal:member', 'prov:wasAttributedTo');\n\t}\n  private handleError(error: any): Promise<any> {\n    console.error('An error occurred', error); // for demo purposes only\n    return Promise.reject(error.message || error);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/records.service.ts","export interface PlaylistItem {\n  title:string,\n  performance:string,\n  part:string,\n  offset?:number,\n  duration?:number,\n  currentTime?:number,\n  startTime?:number,\n  endTime?:number,\n}\n\nexport class PlaylistInfo {\n  title:string\n  items?:PlaylistItem[]\n}\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/types.ts","module.exports = \"<div class=\\\"container\\\" *ngIf=\\\"work\\\"><h1>{{work.label}}</h1>\\n<!-- \\t<p>By <a >{{}}</a></p> -->\\n\\t<div [innerHTML]=\\\"work.description\\\"></div>\\n<!-- \\n\\t<h2>Performances</h2>\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let perf of performances\\\">{{perf.getValue('prov:startedAtTime')}}: <a  [routerLink]=\\\"['/performance', perf.id]\\\">{{perf.label}}</a></li>\\n\\t</ul>\\n-->\\n\\t<p>See also:</p>\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let url of work.getValues('entity:seeAlso_r','rdfs:seeAlso')\\\"><a href=\\\"{{url}}\\\" target=\\\"_seealso\\\">{{url}}</a></li>\\n\\t</ul>\\n\\t<div *ngFor=\\\"let composer of composers\\\">\\n\\t\\t<h2>By {{composer.label}}</h2>\\n\\t\\t<div [innerHTML]=\\\"composer.description\\\"></div>\\n\\t\\t<p>See also:</p>\\n\\t\\t<ul>\\n\\t\\t\\t<li *ngFor=\\\"let url of composer.getValues('entity:seeAlso_r','rdfs:seeAlso')\\\"><a href=\\\"{{url}}\\\" target=\\\"_seealso\\\">{{url}}</a></li>\\n\\t\\t</ul>\\n\\t</div>\\n \\t<h2 *ngIf=\\\"parts.length>0\\\">Parts (stages)</h2>\\n \\t<p>{{work.label}} is comprised of the following musical parts or stages:</p>\\n\\t<ul>\\n\\t\\t<li *ngFor=\\\"let part of parts\\\">{{part.label}}: {{part.description}}</li>\\n\\t</ul>\\n \\t<p><button (click)=\\\"goBack()\\\">Back</button></p>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/work-detail.component.html\n// module id = ../../../../../src/app/work-detail.component.html\n// module chunks = main","import 'rxjs/add/operator/switchMap';\nimport { Component, OnInit }      from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Location }               from '@angular/common';\n\nimport { Entity } from './entity';\nimport { RecordsService }  from './records.service';\n\n@Component({\n  selector: 'work-detail',\n  templateUrl: './work-detail.component.html'\n})\nexport class WorkDetailComponent implements OnInit {\n  work: Entity;\n  performances: Entity[] = [];\n  parts: Entity[] = [];\n  composers: Entity[] = [];\n\n  constructor(\n    private recordsService: RecordsService,\n    private route: ActivatedRoute,\n    private location: Location\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params\n      .switchMap((params: Params) => this.recordsService.getWork(params['id']))\n      .subscribe(work => { this.work = work; \n        this.recordsService.getPerformancesOfWork(work)\n        .then(performances => this.performances = performances\n          .sort((a,b) => a.compareTo(b, 'prov:startedAtTime')));\n        this.recordsService.getMembers(work)\n        .then(members => this.parts = members\n          .sort((a,b) => a.compareTo(b, 'coll:part_rank')));\n        this.recordsService.getComposersOfWork(work)\n        .then(composers => this.composers = composers\n          .sort((a,b) => a.compareTo(b, 'rdfs:label')));\n      });\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/work-detail.component.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* work-explorer */\\n.performance {\\n\\tborder: 1px solid rgba(128,128,128,0.2);\\n}\\n.part {\\n\\tborder: 1px solid rgba(128,128,128,0.2);\\n}\\n.highlighted {\\n\\t/*box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.2), 0 0 20px 0 rgba(0, 0, 0, 0.19);*/\\n\\tbackground-color: rgba(0,0,0,0.1);\\n}\\n.pointer {\\n\\tcursor: pointer;\\n}\\na {\\n\\tcursor: pointer;\\n\\t-webkit-user-select: none;\\n\\t   -moz-user-select: none;\\n\\t    -ms-user-select: none;\\n\\t        user-select: none;\\n}\\ni {\\n\\tvertical-align: middle;\\n}\\nspan.time {\\n\\tfont-family: monospace;\\n\\tfont-size: 150%;\\n}\\nspan.performer {\\n\\tfont-style: italic;\\n}\\n.countdown.inactive {\\n\\t/*background-color: rgba(0,0,0,0.1);*/\\n}\\n.countdown.active {\\n\\tbackground-color: rgba(0,1,0,0.5);\\n}\\n.time.highlight {\\n\\tbackground-color: rgba(0,1,0,0.2);\\n}\\nvideo {\\n\\twidth: 100%;\\n\\theight: auto;\\n}\\nvideo.hidden {\\n\\tdisplay: none;\\n}\\n\\n.hidden {\\n\\tdisplay:none;\\n}\\n.appframe {\\n\\tposition: fixed;\\n\\tbottom: 3px;\\n\\tright: 3px;\\n\\twidth: 317px;\\n\\theight: 525px;\\n\\tborder: 3px solid grey;\\n\\tborder-radius: 3px;\\n\\tbackground: black;\\n\\tz-index: 10;\\n}\\n.appframeContent {\\n\\twidth: 480px;\\n\\theight: 800px;\\n    -webkit-transform: scale(0.65);\\n    transform: scale(0.65);\\n    -webkit-transform-origin: 0 0;\\n    transform-origin: 0 0;\\n}\\n.containerShiftLeft {\\n\\tmargin-left: 30px !important;\\n}\\n@media screen and (max-width: 1200px) {\\n\\t.hideIfNotWide {\\n\\t\\tdisplay:none;\\n\\t}\\n}\\n.blankAtBottom {\\n\\theight: 300px;\\n}\\n.playlistFeedback {\\n  position: relative;\\n  display: inline-block;\\n  border-bottom: 1px dotted grey;\\n  color: #005050;\\n}\\n\\n.playlistFeedback .playlistFeedbackText {\\n  /*visibility: hidden;*/\\n  position: absolute;\\n  width: auto;\\n/*  background-color: #4f4;\\n  color: #fff;\\n  text-align: center;\\n  padding: 2px;\\n  border-radius: 5px; */\\n  z-index: 1;\\n  opacity: 0;\\n  transition: opacity 1s;\\n  top: 100%;\\n   margin-left: 10px;\\n  /*bottom: 20%*/;\\n  /*margin-left: -60px;*/\\n}\\n\\n.playlistFeedback .playlistFeedbackTextVisible {\\n  /*visibility: visible;*/\\n  opacity: 1;\\n  transition: opacity .1s;\\n}\\n\\n..playlistFeedback-top {\\n  bottom: 90%;\\n  /*margin-left: -60px;*/\\n}\\n\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/work-explorer.component.css\n// module id = ../../../../../src/app/work-explorer.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container\\\" [ngClass]=\\\"{containerShiftLeft:showApp}\\\" *ngIf=\\\"work\\\"><h1>{{work.label}}</h1>\\n<!-- <i class=\\\"material-icons\\\">face</i> -->\\n\\t<p><a [routerLink]=\\\"['/work', work.id]\\\">More about {{work.label}}...</a></p>\\n\\t<p *ngIf=\\\"!showMap\\\">Select <i class=\\\"material-icons\\\">check_box_outline_blank</i> a Performance then play <i class=\\\"material-icons\\\">play_circle_outline</i> its parts, or select <i class=\\\"material-icons\\\">check_box_outline_blank</i> a Part then play <i class=\\\"material-icons\\\">play_circle_outline</i> the different versions available.</p>\\n\\t<p *ngIf=\\\"showMap\\\">Select <i class=\\\"material-icons\\\">check_box_outline_blank</i> a Performance then click on its parts, or a click on and select <i class=\\\"material-icons\\\">check_box_outline_blank</i> a Part then play <i class=\\\"material-icons\\\">play_circle_outline</i> the different versions available.</p>\\n\\t<p  class=\\\"hideIfNotWide\\\">\\n\\t\\t<a (click)=\\\"clickShowApp($event)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t<i class=\\\"material-icons\\\">{{showApp ? 'check_box' : 'check_box_outline_blank'}}</i>\\n\\t\\t</a>\\n\\t\\tShow mobile app\\n\\t</p>\\n\\t<div [ngClass]=\\\"{appframe: true, hidden: !showApp}\\\">\\n\\t\\t<iframe #appframe [ngClass]=\\\"{appframeContent: true, hidden: !showApp}\\\" [src]=\\\"appUrl\\\"></iframe>\\n\\t</div>\\n\\t<div class=\\\"row\\\">\\n\\t<div [ngClass]=\\\"{'col-12': !popout, 'col-lg-4': popout, 'col-md-6': popout}\\\">\\n\\t<h2>Performances and Playlists</h2>\\n\\t\\t<div class=\\\"row\\\">\\n\\t\\t<div [ngClass]=\\\"{'col-sm-6':!popout, 'col-md-4':!popout, 'col-12':popout, performance:true}\\\" >\\n\\t\\t\\t<a (click)=\\\"clickAllPerformancesCheckbox($event)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<i class=\\\"material-icons\\\">{{allPerformancesSelected ? 'check_box' : 'check_box_outline_blank'}}</i>\\n\\t\\t\\t</a>\\n\\t\\t\\tAll Performances\\n\\t\\t</div>\\n\\t\\t<div [ngClass]=\\\"{'col-sm-6':!popout, 'col-md-4':!popout, 'col-12':popout, performance:true}\\\" *ngFor=\\\"let perf of performances\\\" [ngClass]=\\\"{'highlighted': perf.highlighted}\\\"\\n\\t\\t\\t(click)=\\\"clickPerformance(perf)\\\" (dragover)=\\\"dragoverPerformance($event,perf)\\\" (drop)=\\\"dropOnPerformance($event,perf)\\\">\\n\\t\\t\\t<div class=\\\"playlistFeedback\\\">\\n\\t\\t\\t\\t<div *ngIf=\\\"perf.isPlaylist && perf.playlistFeedback\\\" class=\\\"playlistFeedback playlistFeedbackText alert alert-success\\\"\\n\\t\\t\\t\\t[ngClass]=\\\"{playlistFeedbackTextVisible : perf.playlistFeedbackVisible}\\\">{{perf.playlistFeedback}}</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<a (click)=\\\"clickPerformanceCheckbox($event,perf)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<i class=\\\"material-icons\\\">{{perf.selected ? 'check_box' : 'check_box_outline_blank'}}</i>\\n\\t\\t\\t</a>\\n\\t\\t\\t<a (click)=\\\"clickPerformancePlay($event,perf)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<span *ngIf=\\\"perf.active && perf.available\\\"><i class=\\\"material-icons\\\">play_circle_filled</i></span>\\n\\t\\t\\t\\t<span *ngIf=\\\"!perf.active && perf.available\\\"><i class=\\\"material-icons\\\">play_circle_outline</i></span>\\n\\t\\t\\t\\t<span *ngIf=\\\"!perf.available\\\"><i class=\\\"material-icons\\\">&nbsp;</i></span>\\n\\t\\t\\t</a>\\n\\t\\t\\t{{perf.label}}<!-- (@ {{perf.startTime}}) -->\\n\\t\\t\\t<span class=\\\"performer\\\" *ngFor=\\\"let performer of perf.performers\\\">{{performer.label}} </span>\\n\\t\\t\\t<a *ngIf=\\\"perf.isPlaylist\\\" (click)=\\\"editPlaylist($event,perf)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<i class=\\\"material-icons\\\">edit</i>\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t\\t<a (click)=\\\"clickPlaylistAdd($event)\\\" class=\\\"pointer\\\" [ngClass]=\\\"{'col-sm-6':!popout, 'col-md-4':!popout, 'col-12':popout, performance:true}\\\" >\\n\\t\\t\\t<i class=\\\"material-icons\\\">playlist_add</i>\\n\\t\\t\\tNew Playlist\\n\\t\\t</a>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div [ngClass]=\\\"{'col-12': !popout, 'col-lg-4': popout, 'col-md-6': popout}\\\">\\n\\t<!-- <p *ngIf=\\\"selectedPerformance\\\"><em>{{selectedPerformance.label}}</em>: {{selectedPerformance.description}}</p>  -->\\n\\t<h2>Parts (sections) \\n\\t<div class=\\\"btn-group\\\">\\n\\t\\t<button class=\\\"btn btn-secondary\\\" [ngClass]=\\\"{'active':!showMap}\\\" (click)=\\\"setShowMap(false)\\\">List</button>\\n\\t\\t<button class=\\\"btn btn-secondary\\\" [ngClass]=\\\"{'active':showMap}\\\" (click)=\\\"setShowMap(true)\\\">Map</button>\\n\\t</div>\\n\\t</h2>\\n\\t<div class=\\\"row\\\" *ngIf=\\\"!showMap && (!selectedPerformance || !selectedPerformance.isPlaylist)\\\">\\n\\t\\t<div [ngClass]=\\\"{'col-sm-6':!popout, 'col-md-4':!popout, part:true, 'col-lg-12':popout, 'col-md-12':popout}\\\" *ngFor=\\\"let part of parts\\\" [ngClass]=\\\"{'highlighted': part.highlighted}\\\"\\n\\t\\t\\t(click)=\\\"clickPart(part)\\\">\\n\\t\\t\\t<a (click)=\\\"clickPartCheckbox($event,part)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<i class=\\\"material-icons\\\">{{part.selected ? 'check_box' : 'check_box_outline_blank'}}</i>\\n\\t\\t\\t</a>\\n\\t\\t\\t<i *ngIf=\\\"part.available\\\" class=\\\"material-icons\\\" draggable=\\\"true\\\" (dragstart)=\\\"dragPart($event,part)\\\">drag_indicator</i>\\n\\t\\t\\t<a (click)=\\\"clickPartPlay($event,part)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<span *ngIf=\\\"part.active && part.available\\\"><i class=\\\"material-icons\\\">play_circle_filled</i></span>\\n\\t\\t\\t\\t<span *ngIf=\\\"!part.active && part.available\\\"><i class=\\\"material-icons\\\">play_circle_outline</i></span>\\n\\t\\t\\t\\t<span *ngIf=\\\"!part.available\\\"><i class=\\\"material-icons\\\">&nbsp;</i></span>\\n\\t\\t\\t</a>\\n\\t\\t\\t{{part.label}}\\n\\t\\t</div>\\n\\t\\t<div [ngClass]=\\\"{'col-sm-12':!popout, 'col-md-12':!popout, 'col-lg-12':!popout, 'col-12':popout}\\\">\\n\\t\\t\\t<p *ngIf=\\\"selectedPart\\\"><em>{{selectedPart.label}}</em>: {{selectedPart.description}}</p>\\n\\t\\t\\t<p *ngIf=\\\"!selectedPart && currentlyPlaying\\\"><em>{{currentlyPlaying.part.label}}</em>: {{currentlyPlaying.part.description}}</p>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"row\\\" *ngIf=\\\"!showMap && selectedPerformance && selectedPerformance.isPlaylist\\\">\\n\\t\\t<div [ngClass]=\\\"{'col-sm-6':!popout, 'col-md-4':!popout, part:true, 'col-lg-12':popout, 'col-md-12':popout}\\\" *ngFor=\\\"let clip of playlistClips\\\"\\n\\t\\t\\t (dragover)=\\\"dragoverClip($event,clip)\\\" (drop)=\\\"dropOnClip($event,clip)\\\">\\n\\t\\t\\t<i class=\\\"material-icons\\\" draggable=\\\"true\\\" (dragstart)=\\\"dragClip($event,clip)\\\">drag_indicator</i>\\n\\t\\t\\t<a (click)=\\\"clickClipPlay($event,clip)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<span *ngIf=\\\"clip.active\\\"><i class=\\\"material-icons\\\">play_circle_filled</i></span>\\n\\t\\t\\t\\t<span *ngIf=\\\"!clip.active\\\"><i class=\\\"material-icons\\\">play_circle_outline</i></span>\\n\\t\\t\\t</a>\\n\\t\\t\\t{{clip.label}}\\n\\t\\t\\t<i class=\\\"material-icons\\\" *ngIf=\\\"clip.hasStartOffset\\\">navigate_before</i>\\n\\t\\t\\t<i class=\\\"material-icons\\\" *ngIf=\\\"clip.hasEndOffset\\\">navigate_next</i>\\n\\t\\t\\t<a (click)=\\\"editPlaylistItem($event,clip)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t<i class=\\\"material-icons\\\">edit</i>\\n\\t\\t\\t</a>\\n\\t\\t</div>\\n\\t\\t<div [ngClass]=\\\"{'col-sm-12':!popout, 'col-md-12':!popout, 'col-lg-12':!popout, 'col-12':popout}\\\">\\n\\t\\t\\t<p *ngIf=\\\"selectedPart\\\"><em>{{selectedPart.label}}</em>: {{selectedPart.description}}</p>\\n\\t\\t\\t<p *ngIf=\\\"!selectedPart && currentlyPlaying\\\"><em>{{currentlyPlaying.part.label}}</em>: {{currentlyPlaying.part.description}}</p>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"row\\\">\\n\\t\\t<div *ngIf=\\\"showMap\\\" [ngClass]=\\\"{'col-sm-12':!popout, 'col-md-8':!popout, 'col-lg-6':!popout, 'col-xl-5':!popout, 'col-12':popout}\\\">\\n\\t\\t\\t<parts-map [parts]=\\\"parts\\\" [work]=\\\"work\\\" [heatmap]=\\\"allPerformancesSelected\\\" (select)=\\\"clickMapPart($event)\\\"></parts-map>\\n\\t\\t</div>\\n\\t\\t<div [ngClass]=\\\"{'col-sm-12':!popout, 'col-md-12':!popout, 'col-lg-6':!popout, 'col-xl-7':!popout, 'col-12':popout}\\\">\\n\\t\\t<div *ngIf=\\\"showMap && selectedPart\\\">\\n\\t\\t\\t<div class=\\\"part\\\" [ngClass]=\\\"{'highlighted': selectedPart.highlighted}\\\"\\n\\t\\t\\t(click)=\\\"clickPart(selectedPart)\\\">\\n\\t\\t\\t\\t<a (click)=\\\"clickPartCheckbox($event,selectedPart)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t\\t<i class=\\\"material-icons\\\">{{selectedPart.selected ? 'check_box' : 'check_box_outline_blank'}}</i>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<i *ngIf=\\\"currentlyPlaying\\\" class=\\\"material-icons\\\" draggable=\\\"true\\\" (dragstart)=\\\"dragPartPerformance($event,currentlyPlaying)\\\">drag_indicator</i>\\n\\t\\t\\t\\t<a (click)=\\\"clickPartPlay($event,selectedPart)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"selectedPart.active && selectedPart.available\\\"><i class=\\\"material-icons\\\">play_circle_filled</i></span>\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"!selectedPart.active && selectedPart.available\\\"><i class=\\\"material-icons\\\">play_circle_outline</i></span>\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"!selectedPart.available\\\"><i class=\\\"material-icons\\\">&nbsp;</i></span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t{{selectedPart.label}}\\n\\t\\t\\t</div>\\n\\t\\t\\t<p ><em>{{selectedPart.label}}</em>: {{selectedPart.description}}</p>\\n\\t\\t</div>\\n\\t\\t<div *ngIf=\\\"showMap && currentlyPlaying && !selectedPart\\\">\\n\\t\\t\\t<div class=\\\"part\\\" [ngClass]=\\\"{'highlighted': currentlyPlaying.part.highlighted}\\\"\\n\\t\\t\\t(click)=\\\"clickPart(currentlyPlaying.part)\\\">\\n\\t\\t\\t\\t<a (click)=\\\"clickPartCheckbox($event,currentlyPlaying.part)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t\\t<i class=\\\"material-icons\\\">{{currentlyPlaying.part.selected ? 'check_box' : 'check_box_outline_blank'}}</i>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<i class=\\\"material-icons\\\" draggable=\\\"true\\\" (dragstart)=\\\"dragPartPerformance($event,currentlyPlaying)\\\">drag_indicator</i>\\n\\t\\t\\t\\t<a (click)=\\\"clickPartPlay($event,currentlyPlaying.part)\\\" class=\\\"pointer\\\">\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"currentlyPlaying.part.active && currentlyPlaying.part.available\\\"><i class=\\\"material-icons\\\">play_circle_filled</i></span>\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"!currentlyPlaying.part.active && currentlyPlaying.part.available\\\"><i class=\\\"material-icons\\\">play_circle_outline</i></span>\\n\\t\\t\\t\\t\\t<span *ngIf=\\\"!currentlyPlaying.part.available\\\"><i class=\\\"material-icons\\\">&nbsp;</i></span>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t{{currentlyPlaying.part.label}}\\n\\t\\t\\t</div>\\n\\t\\t\\t<p ><em>{{currentlyPlaying.part.label}}</em>: {{currentlyPlaying.part.description}}</p>\\n\\t\\t</div>\\n\\t\\t<div *ngFor=\\\"let rec of recordings\\\">\\n\\t\\t\\t<audio *ngIf=\\\"!rec.isVideo && !popout\\\" id=\\\"{{rec.id}}\\\" (canplay)=\\\"audioCanplay($event,rec)\\\" (seeked)=\\\"audioSeeked($event,rec)\\\"\\n\\t\\t\\t(timeupdate)=\\\"audioTimeupdate($event,rec)\\\" (ended)=\\\"audioEnded($event,rec)\\\">\\n\\t\\t\\t\\t<source src=\\\"{{rec.urls[0]}}\\\" type=\\\"audio/mpeg\\\">\\n\\t\\t\\t\\tYour browser does not support audio\\n\\t\\t\\t</audio>\\n\\t\\t\\t<video *ngIf=\\\"rec.isVideo && !popout\\\" id=\\\"{{rec.id}}\\\" (canplay)=\\\"audioCanplay($event,rec)\\\" (seeked)=\\\"audioSeeked($event,rec)\\\"\\n\\t\\t\\t(timeupdate)=\\\"audioTimeupdate($event,rec)\\\" (ended)=\\\"audioEnded($event,rec)\\\"\\n\\t\\t\\t[ngClass]=\\\"{hidden:!rec.visible}\\\">\\n\\t\\t\\t\\t<source src=\\\"{{rec.urls[0]}}\\\" type=\\\"video/mp4\\\">\\n\\t\\t\\t\\tYour browser does not support video\\n\\t\\t\\t</video>\\n\\t\\t</div>\\n \\t\\t</div>\\n\\t</div>\\n\\t</div>\\n\\t<div [ngClass]=\\\"{'col-12': !popout, 'col-lg-4': popout, 'col-md-12': popout}\\\">\\n \\t<h2>Playing\\n\\t\\t<div class=\\\"btn-group\\\" *ngIf=\\\"!popout\\\">\\n\\t\\t\\t<button class=\\\"btn btn-secondary\\\" [ngClass]=\\\"{'active':!showVideo}\\\" (click)=\\\"setShowVideo(false)\\\">Audio</button>\\n\\t\\t\\t<button class=\\\"btn btn-secondary\\\" [ngClass]=\\\"{'active':showVideo}\\\" (click)=\\\"setShowVideo(true)\\\">Video</button>\\n\\t\\t</div>\\n\\t</h2>\\n\\n\\t<div class=\\\"row\\\" *ngIf=\\\"!!currentlyPlaying\\\">\\n\\t\\t<div class=\\\"col-12\\\" *ngIf=\\\"!!currentlyPlaying.clip && !!currentlyPlaying.clip.recording\\\">\\n\\t\\t\\t<span class=\\\"time\\\">{{currentlyPlaying.currentTimeText}}</span>\\n\\t\\t\\t<a (click)=\\\"previous()\\\"><i class=\\\"material-icons\\\">skip_previous</i></a>\\n\\t\\t\\t<a (click)=\\\"back()\\\"><i class=\\\"material-icons\\\">fast_rewind</i></a>\\n\\t\\t\\t<i *ngIf=\\\"!(!!currentlyPlaying && !currentlyPlaying.clip.recording.shouldplay)\\\" class=\\\"material-icons\\\">play_circle_filled</i>\\n\\t\\t\\t<a (click)=\\\"play()\\\" *ngIf=\\\"!!currentlyPlaying && !currentlyPlaying.clip.recording.shouldplay\\\">\\n\\t\\t\\t\\t<i class=\\\"material-icons\\\">play_circle_outline</i>\\n\\t\\t\\t</a>\\n\\t\\t\\t<a (click)=\\\"pause()\\\"><i class=\\\"material-icons\\\">pause_circle_outline</i></a>\\n\\t\\t\\t<a (click)=\\\"forward()\\\"><i class=\\\"material-icons\\\">fast_forward</i></a>\\n\\t\\t\\t<a (click)=\\\"next()\\\"><i class=\\\"material-icons\\\">skip_next</i></a>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"col-12\\\">\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t<tr *ngFor=\\\"let subevent of currentlyPlaying.subevents\\\">\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t<a (click)=\\\"playSubevent(subevent)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span *ngFor=\\\"let i of countdownLevels\\\" [ngClass]=\\\"{countdown:true, active:subevent.countdown==i, inactive: subevent.countdown!=i}\\\">&nbsp;</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"time\\\" [ngClass]=\\\"{highlight:subevent.highlight}\\\">{{subevent.startTimeText}}</span>\\n\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t<td>{{subevent.description}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</tbody>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"col-12\\\">\\n\\t\\t\\t<p *ngIf=\\\"!currentlyPlaying.clip || !currentlyPlaying.clip.recording\\\">Sorry, the recording for this performance is not yet available</p>\\n\\t\\t\\t<p>\\n\\t\\t\\t\\t<span *ngIf=\\\"!currentlyPlaying.isClip\\\"><em>{{currentlyPlaying.performance.label}}</em>: {{currentlyPlaying.performance.description}}<br></span>\\n\\t\\t\\t\\t<span *ngIf=\\\"currentlyPlaying.isClip\\\"><em>{{currentlyPlaying.performance.label}}</em>: {{currentlyPlaying.label}}<br>\\n\\t\\t\\t\\tFrom <em>{{currentlyPlaying.realPerformance.label}}</em><br></span>\\n\\t\\t\\t\\tPerformed by <span class=\\\"performer\\\" *ngFor=\\\"let performer of (currentlyPlaying.isClip ? currentlyPlaying.realPerformance : currentlyPlaying.performance).performers\\\">{{performer.label}} </span>\\n\\t\\t\\t</p><p><em>{{currentlyPlaying.part.label}}</em>: {{currentlyPlaying.part.description}}</p>\\n\\t\\t</div>\\n\\t</div>\\n\\t<!-- <ul>\\n\\t\\t<li *ngFor=\\\"let pp of partPerformances\\\">{{pp.performance.id}} / {{pp.part.id}}</li>\\n\\t</ul> -->\\n\\t</div>\\n\\t<div class=\\\"blankAtBottom\\\"></div>\\n\\t<div *ngIf=\\\"editingPlaylistInfo\\\">\\n      <playlist-form (save)=\\\"saveEditingPlaylist($event)\\\" (cancel)=\\\"cancelEditingPlaylist()\\\" [disabled]=\\\"false\\\"\\n       [playlist]=\\\"editingPlaylistInfo\\\" (dodelete)=\\\"deleteEditingPlaylist()\\\" (doexport)=\\\"exportEditingPlaylist($event)\\\"></playlist-form>\\n    </div>\\n\\t<div *ngIf=\\\"editingPlaylistItem\\\">\\n      <playlist-item-form (save)=\\\"saveEditingPlaylistItem($event)\\\" (cancel)=\\\"cancelEditingPlaylistItem()\\\" [disabled]=\\\"false\\\"\\n       [item]=\\\"editingPlaylistItem\\\" (dodelete)=\\\"deleteEditingPlaylistItem()\\\"></playlist-item-form>\\n    </div>\\n\\t\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/work-explorer.component.html\n// module id = ../../../../../src/app/work-explorer.component.html\n// module chunks = main","import 'rxjs/add/operator/switchMap';\nimport { Component, OnInit, ElementRef, NgZone, OnDestroy, ViewChild }      from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Location }               from '@angular/common';\nimport { Renderer2 } from '@angular/core';\n\nimport * as FileSaver from 'file-saver';\n\nimport { Entity } from './entity';\nimport { RecordsService }  from './records.service';\nimport { LinkappsService } from './linkapps.service';\nimport { PlaylistInfo, PlaylistItem } from './types';\n\nclass ScreenEntity extends Entity {\n\tselected:boolean = false;\n\tavailable:boolean = false;\n\tactive:boolean = false;\n\thighlighted:boolean = false;\n\n\tconstructor(fields: object) {\n\t\tsuper(fields);\n\t}\n}\n\nclass Recording extends Entity {\n\tstartTime:number;\n    startTimeOffset:number;\n\turls:string[] = [];\n\tperformance:Performance;\n\taudio:Object;\n\tcanplay:boolean = false;\n\tshouldplay:boolean = false;\n\tlastTime:number = 0;\n\tisVideo:boolean = false;\n\tvisible:boolean = false;\n  duration:number;\n\tconstructor(fields: object, performance:Performance) {\n\t\tsuper(fields);\n\t\tthis.performance = performance;\n\t\tthis.startTime = this.getTime('prov:startedAtTime');\n\t\tlet stvs = this.getNumberValues('coll:startTimeOffset');\n        if (stvs.length>0) {\n            this.startTimeOffset = stvs[0];\n            console.log(`Fixing start time of recording ${this.id} to ${performance.startTime}-${this.startTimeOffset} instead of ${this.startTime} (delta ${(performance.startTime-this.startTimeOffset)-this.startTime})`);\n            this.startTime = performance.startTime-this.startTimeOffset;\n        } else {\n            this.startTimeOffset = null;\n        }\n\t}\n\tsetUrls(urls:string[]) {\n\t\tthis.urls = urls;\n\t\tthis.isVideo = urls.find(url => url.length>4 && '.mp4'==url.substr(-4))!==undefined;\n\t\tif (this.isVideo)\n\t\t\tconsole.log('found video recording '+this.id+' url '+urls);\n\t}\n}\n\nclass Performance extends ScreenEntity {\n\tstartTime:number;\n\trecordings:Recording[];\n  performers:Entity[];\n  isPlaylist:boolean = false;\n\tconstructor(fields: object) {\n\t\tsuper(fields);\n\t\tthis.startTime = this.getTime('prov:startedAtTime');\n    this.performers = [];\n\t}\n}\n\nclass Playlist extends Performance {\n  playlistFeedback:string;\n  playlistFeedbackVisible:boolean = false;\n  playlistFeedbackTimer = null;\n  constructor(name:string) {\n    super({'rdfs:label':name});\n    this.isPlaylist = true;\n  }\n  showFeedback(feedback:string) {\n    this.playlistFeedback = feedback;\n    this.playlistFeedbackVisible = true;\n    if (this.playlistFeedbackTimer)\n      clearTimeout(this.playlistFeedbackTimer);\n    let self = this;\n    function fn() {\n      self.playlistFeedbackTimer = null;\n      if (self.playlistFeedbackVisible) {\n        self.playlistFeedbackVisible = false;\n        self.playlistFeedbackTimer = setTimeout(fn, 1000);\n      } else {\n        self.playlistFeedback = null;\n      }\n    };\n    this.playlistFeedbackTimer = setTimeout(fn,100);\n  }\n}\n\nclass Part extends ScreenEntity {\n  popularity:number; // 0-1\n  heatmapColor:string;\n\tconstructor(fields: object) {\n\t\tsuper(fields);\n\t}\n}\nclass AudioClip {\n\trecording:Recording;\n\tstart:number;\n\tduration:number;\n\tconstructor(recording:Recording,start:number,duration:number) {\n\t\tthis.recording = recording;\n\t\tthis.start = start;\n\t\tthis.duration = duration;\n\t}\n}\n\nclass SubEvent extends Entity {\n\tstartTime:number;\n\tstartTimeText:string;\n\thighlight:boolean=false;\n\tcountdown:number=0;\n\tconstructor(fields:object, pp: PartPerformance) {\n\t\tsuper(fields);\n\t\tthis.startTime = this.getTime('prov:startedAtTime');\n\t\tvar partOffset = this.startTime - pp.startTime;\n\t\tlet minutes = Math.floor(partOffset / 60);\n\t\tlet seconds = Math.floor(partOffset-60*minutes);\n\t\tthis.startTimeText = (minutes)+':'+Math.floor(seconds/10)+(seconds%10);\n\t}\n\tclear() {\n\t\tthis.countdown = 0;\n\t\tthis.highlight = false;\n\t}\n\tsetAbsTime(time:number) {\n\t\tvar delta = this.startTime-time;\n\t\tthis.highlight = (delta<=0 && delta> -1);\n\t\tif (delta>0 && delta<5)\n\t\t\tthis.countdown = Math.floor(delta+1);\n\t\telse\n\t\t\tthis.countdown = 0;\n\t\tconsole.log('setAbsTime '+time+'/'+this.startTime+'='+delta+', countdown='+this.countdown+', highlight='+this.highlight);\n\t}\n}\n\nclass PartPerformance extends Entity {\n\tstartTime:number;\n\tperformance:Performance;\n\tpart:Part;\n\tclip:AudioClip;\n\taudioClip:AudioClip;\n\tvideoClip:AudioClip;\n\tcurrentTimeText:string = '0:00';\n\tsubevents:SubEvent[] = [];\n  isClip:boolean = false;\n  playlist:Playlist;\n  playlistOffset:number;\n  realPerformance:Performance;\n  //clipOffset:number;\n  hasOffset:boolean;\n  hasDuration:boolean;\n  duration:number;\n\tconstructor(fields:object, performance:Performance, part:Part) {\n\t\tsuper(fields);\n    if(!part) console.log('Error: create PP '+this.id+' with null part; fields:', fields);\n\t\tthis.startTime = this.getTime('prov:startedAtTime');\n\t\tthis.performance = performance;\n\t\tthis.part = part;\n\t}\n\tsetCurrentTime(time:number) {\n\t\ttime = Math.floor(time);\n\t\tlet minus = (time<0) ? '-' : '';\n\t\tif (time<0)\n\t\t\ttime = -time;\n\t\tlet minutes = Math.floor(time / 60);\n\t\tlet seconds = time-60*minutes;\n\t\tthis.currentTimeText = minus+(minutes)+':'+Math.floor(seconds/10)+(seconds%10);\n\t}\n}\nvar nextClip = 1;\nclass Clip extends PartPerformance {\n  realPartPerformance:PartPerformance;\n  active:boolean = false;\n  hasStartOffset:boolean = false;\n  hasEndOffset:boolean = false;\n  // TODO offset/duration\n  constructor(playlist:Playlist, pp:PartPerformance) {\n    super({},playlist,pp.part);\n    this.id = '_clip'+(nextClip++);\n    this.startTime = pp.startTime;\n    this.isClip = true;\n    this.audioClip = new AudioClip(pp.audioClip.recording, pp.audioClip.start, pp.audioClip.duration);\n    this.clip = new AudioClip(pp.clip.recording, pp.clip.start, pp.clip.duration);\n    this.videoClip = new AudioClip(pp.videoClip.recording, pp.videoClip.start, pp.videoClip.duration);\n    if (this.audioClip)\n      this.duration = this.audioClip.duration;\n    if (this.videoClip && (!this.duration || this.videoClip.duration < this.duration))\n      this.duration = this.videoClip.duration;\n    this.playlist = playlist;\n    this.realPartPerformance = pp;\n    this.realPerformance = pp.performance;\n    this.subevents = pp.subevents;\n  }\n  setCurrentTime(time:number) {\n    if (this.realPartPerformance) {\n      super.setCurrentTime(time + this.startTime - this.realPartPerformance.startTime);\n    } else {\n      super.setCurrentTime(time);\n    }\n  }\n}\n\nconst DRAG_AND_DROP_MIME_TYPE = 'application/x-archive-dd';\n\n@Component({\n  selector: 'work-explorer',\n  templateUrl: './work-explorer.component.html',\n  styleUrls: ['./work-explorer.component.css']\n})\n\nexport class WorkExplorerComponent implements OnInit, OnDestroy {\n  @ViewChild('appframe') appframe: ElementRef;\n  work: Entity;\n  performances: Performance[] = [];\n  allPerformancesSelected:boolean = true;\n  parts: Part[] = [];\n  recordings: Recording[] = [];\n\tpartPerformances: PartPerformance[] = [];\n\tcurrentlyPlaying: PartPerformance = null;\n\tselectedPart: Part = null;\n\tselectedPerformance: Performance = null;\n  playlistClips: Clip[] = [];\n\tshowMap: boolean = false;\n\tcountdownLevels: number[] = [5,4,3,2,1];\n\tshowVideo: boolean = true;\n\tpopout: Window;\n  showApp:boolean = false;\n  appUrl:SafeResourceUrl;\n  messageSub:any;\n  playlistCount:number = 0;\n  editingPlaylistInfo:PlaylistInfo;\n  editingPlaylist:Playlist;\n  editingPlaylistItem:PlaylistItem;\n  editingClip:Clip;\n  \n  constructor(\n\tprivate elRef:ElementRef,\n    private recordsService: RecordsService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private renderer: Renderer2,\n    private ngZone: NgZone,\n    private linkappsService: LinkappsService,\n    private sanitizer: DomSanitizer\n  ) {}\n\n  ngOnInit(): void {\n    this.route.queryParams\n      .subscribe((params:Params) => { \n        if (params['popout']!==undefined) { this.popoutPlayer(); } \n        if (params['meld']!==undefined) { this.linkappsService.openMeld(); } \n      } );\n    this.route.params\n      .switchMap((params: Params) => this.recordsService.getWork(params['id']))\n      .subscribe(work => this.initialiseForWork(work));\n    this.messageSub = this.linkappsService.getEmitter().subscribe((ev) => {\n        if ('app.start'==ev.event) {\n          console.log('got app.start...');\n          this.updateApp();\n        } else {\n          console.log('unknown linkapps event', ev);\n        }\n    })\n    this.appUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\"http://localhost:8000/1/archive-muzivisual/?p=archive&archive=1\");\n  }\n  ngOnDestroy(): void {\n    // mainly for popout\n    this.stop();\n    this.messageSub.unsubscribe();\n  }\n  clickShowApp(): void {\n    this.showApp = !this.showApp;\n  }\n  updateApp2(performance:Performance, stages:string[]) {\n    var msg:any = {version: 'mrl-music.archive/1.0', event: 'play.update'};\n    if (performance) {\n      // performance title\n      msg.performanceTitle = performance.label;\n      msg.performanceId = performance.getValue(\"coll:system_id\");\n      if (performance.performers) {\n        msg.performers = [];\n        for (var pi in performance.performers) {\n          // performer(s)\n          var performer = performance.performers[pi];\n          msg.performers.push(performer.label);\n        }\n      }\n      // TODO venue -> label\n      msg.venue = performance.getValue(\"crm:P7_took_place_at\");\n      // e.g.\"Place/Djanogly_Recital_Hall\"\n      //if (msg.venue.substring(0,6)=='Place/')\n      //  msg.venue = msg.venue.substring(6);\n      //msg.venue = msg.venue.replace('_', ' ');\n    }\n    msg.stages = stages;\n    if (performance || stages) {\n      console.log('update app', msg);\n      try {\n        this.appframe.nativeElement.contentWindow.postMessage(JSON.stringify(msg), \"*\");\n      } catch (err) {\n        console.log('error updating app window', err);\n      }  \n    }\n  }\n  updateApp(): void {\n    if (this.currentlyPlaying) {\n      // stages in this performance\n      var stages:string[];\n      if (!this.currentlyPlaying.isClip) {\n        var parts = this.partPerformances.filter(pp => pp.performance===this.currentlyPlaying.performance &&\n           pp.startTime<=this.currentlyPlaying.startTime)\n          .sort((a,b)=>a.startTime-b.startTime).map(pp => pp.part.getValue(\"coll:part_id\"));\n        stages = parts;\n      } else {\n        var parts = this.partPerformances.filter(pp => pp.performance===this.currentlyPlaying.performance &&\n           pp.playlistOffset<=this.currentlyPlaying.playlistOffset)\n          .sort((a,b)=>a.playlistOffset-b.playlistOffset).map(pp => pp.part.getValue(\"coll:part_id\"));\n        stages = parts;\n      }\n      this.updateApp2(this.currentlyPlaying.performance, stages);\n    } \n    else if (this.selectedPerformance) {\n      this.updateApp2(this.selectedPerformance, []);\n    }\n  }\n  popoutPlayer(): void {\n    console.log('popout player');\n    // Warning: not injected\n    this.popout = window.open('', 'archive_player'); //,'archive_player'|'_blank' 'scrollbars=no,status=no,menubar=no,width=720,height=480');\n    //data:text/html,<html><head><title>Explorer player</title></head><body><div>hello</div></body></html>\n    let init = () => {\n      if (!!this.popout.document.title) {\n        console.log('popout window initialised already as '+this.popout.document.title);\n        return;\n      }\n      console.log('initialise popout player window '+this.popout.document.title);\n      this.popout.document.title = 'Archive Player Window';\n      let css = 'video {\\n width: 100%;\\n height: auto;\\n}\\nvideo.hidden {\\n display: none;\\n}\\nbody {\\n background: black; \\n}',\n        head = this.popout.document.head || this.popout.document.getElementsByTagName('head')[0],\n        style = this.popout.document.createElement('style');\n      style.type = 'text/css';\n      style.appendChild(document.createTextNode(css));\n      head.appendChild(style); \n    }\n    init();\n    this.popout.addEventListener('load', init, true); \n  }\n\tinitialiseForWork(work:Entity):void {\n    console.log('initialiseForWork...');\n\t\tthis.work = work; \n\t\tthis.showMap = !!work.getValue('coll:map_url');\n\t\t/* get all performances of work */\n\t\tthis.recordsService.getPerformancesOfWork(work)\n\t\t.then(performances => {\n\t\t\tthis.performances = performances\n\t\t\t.map(p => new Performance(p.fields))\n\t\t\t.sort((a,b) => a.compareTo(b, 'prov:startedAtTime'));\n      console.log('got '+this.performances.length+' performances');\n\t\t\t/* then get all performers of each performance*/\n      return Promise.all(this.performances.map(p => \n        this.recordsService.getPerformersOfPerformance(p)\n        .then(performers => {\n          console.log('got '+performers.length+' performers for '+p.label);\n          p.performers = performers;\n        })\n      ))\n\t\t})\n    .then(() => {\n      /* then get all parts (members) of work */\n      return this.recordsService.getMembers(work); \n    })\n\t\t.then(members => {\n\t\t\tthis.parts = members\n\t\t\t.map(m => new Part(m.fields))\n\t\t\t.sort((a,b) => a.compareToNumber(b, 'coll:part_rank'));\n      console.log('got '+this.parts.length+' parts')\n\t\t\t/* then get all recordings of each performance */\n\t\t\treturn Promise.all(this.performances.map(p => \n\t\t\t\tthis.recordsService.getRecordingsOfPerformance(p)\n\t\t\t\t.then(recs => {\n\t\t\t\t\tp.recordings = recs.map(rec => new Recording(rec.fields, p));\n\t\t\t\t\t/* and the URLs for each performance */\n\t\t\t\t\treturn Promise.all(p.recordings.map(r => \n\t\t\t\t\t\tthis.recordsService.getUrlsOfRecording(r).then(urls => r.setUrls(urls) )));\n\t\t\t\t})));\n\t\t})\n\t\t.then(() => {\n      console.log('(hopefully) got associated recordings and urls');\n\t\t\treturn Promise.all(this.performances.map(p =>\n\t\t\t\tthis.recordsService.getSubEvents(p)\n\t\t\t\t.then((events) => {\n\t\t\t\t\tthis.partPerformances = this.partPerformances.concat(\n\t\t\t\t\t\tevents.map(ev => new PartPerformance(ev.fields, p, this.parts.find(p => \n\t\t\t\t\t\t\tev.getValues('frbroo:R25F_performed_r','frbroo:R25F_performed').indexOf(p.type_id+'/'+p.id)>=0)))\n\t\t\t\t\t);\n          console.log('got '+events.length+' subevents for performance '+p.id+' -> '+this.partPerformances.length+' total part-performances');\n\t\t\t\t})\n\t\t\t))\n\t\t})\n\t\t.then(() => {\n      console.log('after sub-events, get sub-sub-events');\n\t\t\treturn Promise.all(this.partPerformances.map(pp =>\n\t\t\t\tthis.recordsService.getSubEvents(pp)\n\t\t\t\t.then(subevents => \n\t\t\t\t\tpp.subevents = subevents.map(subevent => new SubEvent(subevent.fields, pp))\n\t\t\t\t)\n\t\t\t))\n\t\t})\n\t\t.then(() => {\n\t\t\tconsole.log('loaded work to explore');\n\t\t\tthis.buildAudioClips();\n      this.buildPopularity();\n            this.updateApp();\n\t\t});\n\t}\n\t\n  goBack(): void {\n    this.location.back();\n  }\n  \n\tsetShowMap(value) {\n\t\tthis.showMap = value;\n\t}\n\tsetShowVideo(value) {\n\t\tthis.pause();\n\t\tthis.showVideo = value;\n\t\tthis.partPerformances.forEach(pp => pp.clip = (this.showVideo ? pp.videoClip : pp.audioClip) );\n\t\tthis.recordings.forEach(r => r.visible = r.isVideo==this.showVideo && (r.performance==this.selectedPerformance || (this.currentlyPlaying && this.currentlyPlaying.performance==r.performance)));\n    this.checkPopoutMediaVisible();\n\t\tif (this.currentlyPlaying) {\n\t\t\tthis.playInternal(this.currentlyPlaying.performance, this.currentlyPlaying.part);\n\t\t}\n\t}\n\tbuildAudioClips() {\n\t\tfor (var pi in this.performances) {\n\t\t\tlet p = this.performances[pi];\n\t\t\tfor (var video=0; video<2; video++) {\n\t\t\t\tlet rec = p.recordings.find(r => r.isVideo==(video>0) && !!r.urls && r.urls.length>0);\n\t\t\t\tif (undefined===rec) {\n\t\t\t\t\tconsole.log('Note: no '+(video ? 'video' : 'audio')+' recording with url for performance '+p.label);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.recordings.push(rec);\n\t\t\t}\n\t\t}\n    if(this.popout)\n      this.createPopoutMedia();\n\t\tfor (var pi in this.partPerformances) {\n\t\t\tlet pp = this.partPerformances[pi];\n\t\t\tfor (var video=0; video<2; video++) {\n\t\t\t\t// first recording for now\n\t\t\t\tlet rec = this.recordings.find(r => r.isVideo==(video>0) && r.performance===pp.performance);\n\t\t\t\tif (undefined===rec) {\n\t\t\t\t\tconsole.log('Note: no '+(video ? 'video' : 'audio')+' recording with url for performance '+pp.label);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet startTime = pp.startTime;\n\t\t\t\tlet recStartTime = rec.startTime;\n\t\t\t\t// TODO end of last stage??\n\t\t\t\tlet endTime = this.partPerformances.filter(p => p.performance===pp.performance && p.startTime > pp.startTime)\n\t\t\t\t.map(p => p.startTime).sort().find(() => true);\n\t\t\t\tlet clip = new AudioClip(rec, startTime-recStartTime, endTime? endTime-startTime : null);\n\t\t\t\tconsole.log('part '+pp.id+' is '+clip.start+'+'+clip.duration);\n        if (clip.duration && (!pp.duration || clip.duration < pp.duration))\n          pp.duration = clip.duration;\n\t\t\t\tif (video) {\n\t\t\t\t\tpp.videoClip = clip;\n\t\t\t\t\tif (this.showVideo)\n\t\t\t\t\t\tpp.clip = pp.videoClip;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpp.audioClip = clip;\n\t\t\t\t\tif (!this.showVideo)\n\t\t\t\t\t\tpp.clip = clip;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n  buildPopularity() {\n    let maxPopularity = 0;\n    this.parts.forEach(part => {\n      part.popularity = this.partPerformances.filter(p => p.part===part).length;\n      if (part.popularity > maxPopularity) {\n        maxPopularity = part.popularity;\n      }\n    })\n    this.parts.forEach(part => {\n      part.popularity = part.popularity / maxPopularity;\n      if (0==part.popularity) {\n        part.heatmapColor = 'rgb(80,80,80)';\n      } else {\n        // blue to red \n        //part.heatmapColor = 'hsl('+(240+120*part.popularity+',100%,50%)');\n        // yellow to red \n        part.heatmapColor = 'hsl('+(60-60*part.popularity+',100%,50%)');\n      }\n    });\n  }\n\tclickPerformance(perf) {\n\t\tconsole.log('highlight performance '+perf.id);\n\t\tfor (var pi in this.performances) {\n\t\t\tlet p = this.performances[pi];\n\t\t\tif (p!==perf)\n\t\t\t\tp.highlighted = false;\n\t\t}\n\t\tperf.highlighted = true;\n\t\t// highlight stages in this performance\n\t\tfor (var pi in this.parts) {\n\t\t\tlet part = this.parts[pi];\n\t\t\tpart.highlighted = !!this.partPerformances.find(pp =>  pp.performance === perf && pp.part === part);\n\t\t}\n\t}\n  clickAllPerformancesCheckbox(event) {\n    this.clickPerformanceCheckbox(event,null);\n  }\n  refreshSelectedPerformance() {\n    if(!this.selectedPerformance) {\n      if (!this.selectedPart) {\n        for (var pi in this.parts) {\n          let p = this.parts[pi];\n          p.available = false;\n          p.active = false;\n        }\n      }\n      return;\n    }\n    for (var pi in this.parts) {\n      let p = this.parts[pi];\n      p.selected = false;\n    }\n    // clips?\n    if (this.selectedPerformance.isPlaylist) {\n      this.playlistClips = this.partPerformances.filter(pp => pp.performance === this.selectedPerformance && pp.isClip ).sort((a,b) => a.playlistOffset - b.playlistOffset) as Clip[];\n    } else {\n      this.playlistClips = [];\n    }\n    // available stages in this performance\n    for (var pi in this.parts) {\n      var part = this.parts[pi];\n      part.available = !!this.partPerformances.find(pp =>  pp.performance === this.selectedPerformance && pp.part === part);\n    }\n    // TODO visible w playlist??\n    //this.checkPopoutMediaVisible();\n    this.updateApp();\n  }\n\tclickPerformanceCheckbox(event,perf) {\n    if (perf!==null) {\n      console.log('select performance '+perf.id);\n      this.allPerformancesSelected = false;\n    } else {\n      console.log('select all performances');\n      this.allPerformancesSelected = true;\n    }\n\t\tfor (var pi in this.performances) {\n\t\t\tlet p = this.performances[pi];\n\t\t\tif (p!==perf && p.selected)\n\t\t\t\tp.selected = false;\n\t\t\tp.available = false;\n\t\t}\n\t\tfor (var pi in this.parts) {\n\t\t\tlet p = this.parts[pi];\n\t\t\tp.selected = false;\n\t\t}\n\t\tthis.selectedPart = null;\n\t\tif (perf!==null && !perf.selected)\n\t\t\tperf.selected = true;\n\t\tthis.selectedPerformance = perf;\n    // clips?\n    if (this.selectedPerformance && this.selectedPerformance.isPlaylist) {\n      this.playlistClips = this.partPerformances.filter(pp => pp.performance === perf && pp.isClip ).sort((a,b) => a.playlistOffset - b.playlistOffset) as Clip[];\n    } else {\n      this.playlistClips = [];\n    }\n\t\t// available stages in this performance\n\t\tfor (var pi in this.parts) {\n\t\t\tvar part = this.parts[pi];\n\t\t\tpart.available = !!this.partPerformances.find(pp =>  pp.performance === perf && pp.part === part);\n\t\t}\n\t\tif (this.currentlyPlaying) {\n\t\t\tif (this.currentlyPlaying.performance!==perf || !this.currentlyPlaying.part.available)\n\t\t\t\tthis.stop();\n\t\t\telse\n\t\t\t\tthis.currentlyPlaying.part.active = true;\n\t\t}\n\t\tif (!this.currentlyPlaying) {\n      if (perf && perf.isPlaylist) {\n\t\t\t  let pp = this.partPerformances.filter(p => p.performance === perf && p.isClip).sort((a,b) => a.playlistOffset - b.playlistOffset).find(p => true) as Clip;\n        if (pp) {\n          this.playInternal(perf, pp.part, pp);\n        } else {\n          this.recordings.forEach(r => r.visible = r.isVideo==this.showVideo && r.performance==perf);\n        }\n      }\n      else {\n        let part:Part = this.parts.find(p => p.available);\n  \t\t \tif (part) {\n\t  \t\t\tthis.playInternal(perf, part);\n\t\t  \t} else {\n\t\t\t  \tthis.recordings.forEach(r => r.visible = r.isVideo==this.showVideo && r.performance==perf);\n\t\t\t  }\n      }\n\t\t}\n    this.checkPopoutMediaVisible();\n    this.updateApp();\n\t}\n\tclickPerformancePlay(event,perf) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tlet part = this.parts.find(p => p.selected);\n\t\tif (part!==undefined) {\n\t\t\tthis.playInternal(perf, part);\n\t\t}\n\t}\n\tclickPart(part) {\n\t\tconsole.log('highlight part'+part.id);\n\t\tfor (var pi in this.parts) {\n\t\t\tlet p = this.parts[pi];\n\t\t\tif (p!==part)\n\t\t\t\tp.highlighted = false;\n\t\t}\n\t\tpart.highlighted = true;\n\t\t// highlight performances including this part/stage\n\t\tfor (var pi in this.performances) {\n\t\t\tvar performance = this.performances[pi];\n\t\t\tperformance.highlighted = !!this.partPerformances.find(pp => pp.performance === performance && pp.part === part);\n\t\t}\n\t}\n\tclickMapPart(part) {\n\t\tconsole.log('clickMapPart('+part.id+')');\n\t\tif (part.available) {\n\t\t\tthis.clickPartPlay(null, part);\n\t\t} else {\n\t\t\tthis.clickPartCheckbox(null, part);\n\t\t}\n\t}\n\tgetMedia() {\n\t\tvar media = [];\n    if (!!this.popout) {\n      let audios = this.popout.document.body.getElementsByTagName('audio');\n      let videos = this.popout.document.body.getElementsByTagName('video');\n      for (var ai=0; ai<audios.length; ai++) {\n        media.push(audios[ai]);\n      }\n      for (var ai=0; ai<videos.length; ai++) {\n        media.push(videos[ai]);\n      }\n    }\n\t\telse if (!!this.elRef) {\n\t\t\tlet audios = this.elRef.nativeElement.getElementsByTagName('audio');\n\t\t\tlet videos = this.elRef.nativeElement.getElementsByTagName('video');\n\t\t\tfor (var ai=0; ai<audios.length; ai++) {\n\t\t\t\tmedia.push(audios[ai]);\n\t\t\t}\n\t\t\tfor (var ai=0; ai<videos.length; ai++) {\n\t\t\t\tmedia.push(videos[ai]);\n\t\t\t}\n\t\t}\n\t\treturn media;\n\t}\n\n\tclickPartCheckbox(event,part) {\n\t\tconsole.log('select part'+part.id);\n\t\tfor (var pi in this.parts) {\n\t\t\tlet p = this.parts[pi];\n\t\t\tif (p!==part && p.selected)\n\t\t\t\tp.selected = false;\n\t\t\tp.available = false;\n\t\t}\n\t\tfor (var pi in this.performances) {\n\t\t\tlet p = this.performances[pi];\n\t\t\tp.selected = false;\n\t\t}\n\t\tthis.selectedPerformance = null;\n    this.playlistClips = [];\n    this.allPerformancesSelected = false;\n\t\tif (!part.selected)\n\t\t\tpart.selected = true;\n\t\tthis.selectedPart = part;\n\t\tfor (var pi in this.performances) {\n\t\t\tvar performance = this.performances[pi];\n\t\t\tperformance.available = !!this.partPerformances.find(pp => pp.performance === performance && pp.part === part);\n\t\t}\n\t\tif (this.currentlyPlaying) {\n\t\t\tif (this.currentlyPlaying.part!==part|| !this.currentlyPlaying.performance.available) {\n\t\t\t\tthis.stop();\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.currentlyPlaying.performance.active = true;\n\t\t}\n\t\tif (!this.currentlyPlaying) {\n\t\t\tvar perf = this.performances.find(p => p.available);\n\t\t \tif (perf) {\n\t\t\t\tthis.playInternal(perf, part);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.recordings.forEach(r => r.visible = false );\n\t\t\t}\n\t\t}\n    this.checkPopoutMediaVisible();\n\t}\n\tclickPartPlay(event,part) {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t\tlet perf = this.performances.find(p => p.selected);\n\t\tif (perf!==undefined) {\n\t\t\tthis.playInternal(perf, part);\n\t\t}\n\t}\n\tplayInternal(perf:Performance, part:Part, clip?:Clip) {\n\t\tconsole.log('play '+perf.id+' '+part.id+(clip ? ' clip at '+clip.startTime : ''));\n    if (clip) \n      this.linkappsService.meldPartPerformance(part.id, clip.realPerformance.id);\n    else\n      this.linkappsService.meldPartPerformance(part.id, perf.id);\n\t\tfor (var pi in this.parts) {\n\t\t\tlet p = this.parts[pi];\n\t\t\tp.active = p===part && !part.selected;\n\t\t}\n\t\tfor (var pi in this.performances) {\n\t\t\tlet p = this.performances[pi];\n\t\t\tp.active = p===perf && !perf.selected;\n\t\t}\n\t\tlet wasPlaying = this.currentlyPlaying;\n\t\tthis.currentlyPlaying = clip ? clip : this.partPerformances.find(pp => pp.performance===perf && pp.part===part);\n\t\tthis.currentlyPlaying.subevents.map(ev => ev.clear());\n    \n    for (var ppi in this.partPerformances) {\n      let pp = this.partPerformances[ppi];\n      if (pp.isClip) {\n        let clip = pp as Clip;\n        clip.active = clip === this.currentlyPlaying;\n      }\n    }\n    \n\t\t//console.log('elRef',this.elRef);\n    let realPerf = this.currentlyPlaying.isClip ? this.currentlyPlaying.realPerformance : perf;\n\t\tlet rec = this.recordings.find(r => r.isVideo==this.showVideo && r.performance===realPerf);\n\t\tif (!rec) {\n\t\t\tconsole.log('no '+(this.showVideo ? 'video' : 'audio')+' recording for performance '+realPerf.id);\n\t\t}\n\t\tthis.recordings.forEach(r => r.visible = r==rec );\n    this.checkPopoutMediaVisible();\n\t\tif (!!this.elRef) {\n\t\t\tlet media = this.getMedia();\n\t\t\tfor (var ai=0; ai<media.length; ai++) {\n\t\t\t\tlet audio = media[ai];\n\t\t\t\tconsole.log('media '+ai+'/'+media.length+': '+(!!rec ? rec.id : '(none)')+' vs '+audio.id, audio);\n\t\t\t\tif (!!rec && audio.id==rec.id) {\n\t\t\t\t\trec.shouldplay = true;\n\t\t\t\t\tconsole.log('media '+ai+' visible!');\n\t\t\t\t\t// start time...\n\t\t\t\t\tvar partOffset = 0;\n\t\t\t\t\tif (!!wasPlaying && wasPlaying.part===part && wasPlaying!==this.currentlyPlaying && !clip) {\n\t\t\t\t\t\t// same time in part?\n\t\t\t\t\t\tpartOffset = wasPlaying.clip.recording.lastTime + wasPlaying.clip.recording.startTime \n\t\t\t\t\t\t- wasPlaying.startTime;\n\t\t\t\t\t\tif (partOffset<0) {\n\t\t\t\t\t\t\tconsole.log('warning: part offset <0: '+partOffset+' (lastTime '+wasPlaying.clip.recording.lastTime+')');\n\t\t\t\t\t\t\tpartOffset = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.currentlyPlaying.setCurrentTime(partOffset);\t\n\t\t\t\t\tif (this.currentlyPlaying.clip.start+partOffset>=0) {\n\t\t\t\t\t\tconsole.log('seek to '+(this.currentlyPlaying.clip.start+partOffset));\n\t\t\t\t\t\taudio.currentTime = this.currentlyPlaying.clip.start+partOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('warning: clip start <0: '+this.currentlyPlaying.id+', '+this.currentlyPlaying.clip.start+'+'+partOffset);\n\t\t\t\t\t\taudio.currentTime = 0;\n\t\t\t\t\t}\n\t\t\t\t\taudio.play();\n\t\t\t\t} else {\n\t\t\t\t\taudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n        this.updateApp();\n\t}\n\tstop() {\n\t\tif (this.currentlyPlaying) {\n\t\t\tthis.currentlyPlaying.part.active = false;\n\t\t\tthis.currentlyPlaying.performance.active = false;\n\t\t}\n\t\tthis.pause();\n\t\tthis.currentlyPlaying = null;\n        this.updateApp();\n\t}\n\taudioTimeupdate(event,rec) {\n\t\tconsole.log('timeupdate '+rec.id+' '+event.target.currentTime);\n\t\trec.lastTime = event.target.currentTime;\n\t\tif (!!this.currentlyPlaying && this.currentlyPlaying.clip && this.currentlyPlaying.clip.recording===rec) {\n\t\t\tlet offset = rec.lastTime+rec.startTime-this.currentlyPlaying.startTime;\n\t\t\tthis.currentlyPlaying.setCurrentTime(offset);\n\t\t\tthis.currentlyPlaying.subevents.map(ev => ev.setAbsTime(rec.lastTime+rec.startTime));\n\t\t\tif (this.currentlyPlaying.performance.selected && !this.currentlyPlaying.isClip) {\n\t\t\t\t// check best clip...\n\t\t\t\tlet nextPp = this.partPerformances.filter(pp=>pp.performance===this.currentlyPlaying.performance\n\t\t\t\t\t&& (!pp.duration || pp.startTime+pp.duration-0.1>rec.lastTime+rec.startTime))\n\t\t\t\t\t.sort((a,b)=>a.startTime-b.startTime).find(()=>true);\n\t\t\t\tif (!nextPp) {\n\t\t\t\t\tconsole.log('no valid part to play');\n\t\t\t\t\t//this.stop();\n\t\t\t\t} else if (nextPp!==this.currentlyPlaying) {\n\t\t\t\t\tconsole.log('change part to '+nextPp.id);\n\t\t\t\t\tthis.currentlyPlaying.part.active = false;\n\t\t\t\t\tthis.currentlyPlaying = nextPp;\n\t\t\t\t\tthis.currentlyPlaying.part.active = true;\n\t\t\t\t\tthis.currentlyPlaying.setCurrentTime(rec.lastTime+rec.startTime-this.currentlyPlaying.startTime);\n\t\t\t\t\tthis.currentlyPlaying.subevents.map(ev => ev.setAbsTime(rec.lastTime+rec.startTime));\n                    this.updateApp();\n                    this.linkappsService.meldPartPerformance(nextPp.part.id, nextPp.performance.id);\n\t\t\t\t}\n\t\t\t}\n      else if (this.currentlyPlaying.performance.selected && this.currentlyPlaying.isClip) {\n        // playlist\n        let playlistTime = this.currentlyPlaying.playlistOffset + rec.lastTime+rec.startTime - this.currentlyPlaying.startTime;\n        console.log('playlist time now '+playlistTime);\n        let nextPp = this.partPerformances.filter(pp=>pp.performance===this.currentlyPlaying.performance\n          && (!pp.duration || pp.playlistOffset+pp.duration-0.1>playlistTime))\n          .sort((a,b)=>a.playlistOffset-b.playlistOffset).find(()=>true);\n        this.partPerformances.filter(pp=>pp.performance===this.currentlyPlaying.performance)\n           .forEach(pp => console.log(`- clip ${pp.id} plo ${pp.playlistOffset} dir ${pp.duration}`))\n        if (!nextPp) {\n          console.log('no valid clip to play');\n          this.pause();\n          let maxTime = this.currentlyPlaying.startTime+ (this.currentlyPlaying.duration ? this.currentlyPlaying.duration : 0) - rec.startTime;\n          if (rec.lastTime > maxTime + 0.1)\n            event.target.currentTime = maxTime;\n        } else if (nextPp!==this.currentlyPlaying) {\n          console.log('change clip to +'+nextPp.playlistOffset);\n          this.playInternal(nextPp.performance, nextPp.part, nextPp as Clip);\n        } else if (playlistTime<-0.1) {\n          console.log(`skip to start from ${playlistTime}`);\n          event.target.currentTime = nextPp.startTime - rec.startTime;\n        }\n      }\n\t\t\telse if (this.currentlyPlaying.part.selected) {\n\t\t\t\tif (this.currentlyPlaying.duration && offset > this.currentlyPlaying.duration) {\n\t\t\t\t\t// pause\n\t\t\t\t\tthis.pause();\n\t\t\t\t\tevent.target.currentTime = this.currentlyPlaying.startTime-rec.startTime;\n\t\t\t\t} else if (offset < -0.5) {\n\t\t\t\t\t// (significantly) before clip?!\n\t\t\t\t\tevent.target.currentTime = rec.lastTime-offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\taudioEnded(event,rec) {\n\t\tconsole.log('ended '+rec.id);\n\t\tthis.pause();\n\t\tevent.target.currentTime = 0;\n\t}\n\taudioCanplay(event,rec) {\n\t\tconsole.log('canplay '+rec.id);\n\t\trec.canplay = true;\n    let duration = event.target.duration;\n    if (!rec.duration) {\n      rec.duration = duration;\n      this.partPerformances.forEach(pp => {\n        if (pp.audioClip && pp.audioClip.recording===rec && !pp.audioClip.duration) {\n          pp.audioClip.duration = duration-pp.audioClip.start;\n          if (!pp.duration || pp.duration > pp.audioClip.duration)\n            pp.duration = pp.audioClip.duration;\n          console.log(`fix duration of audioclip ${pp.id} ${pp.performance.id} ${pp.part.id} as ${pp.audioClip.duration}`);\n        }\n        if (pp.videoClip && pp.videoClip.recording===rec && !pp.videoClip.duration) {\n          pp.videoClip.duration = duration-pp.videoClip.start;\n          if (!pp.duration || pp.duration > pp.videoClip.duration)\n            pp.duration = pp.videoClip.duration;\n          console.log(`fix duration of videoclip ${pp.id} ${pp.performance.id} ${pp.part.id} as ${pp.videoClip.duration}`);\n        }\n      })\n    }\n\t\t// shouldn't be needed?!\n\t\tif (rec.shouldplay) {\n\t\t\tconsole.log('play '+rec.id+' on canplay');\n\t\t\tevent.target.play();\n\t\t}\n\t}\n\taudioSeeked(event,rec) {\n\t\tconsole.log('seeked '+rec.id);\n\t}\n\tplay() {\n\t\tif (!!this.currentlyPlaying && !this.currentlyPlaying.clip.recording.shouldplay) {\n\t\t\tthis.currentlyPlaying.clip.recording.shouldplay = true;\n\t\t\tif (!!this.elRef) {\n\t\t\t\tlet audios = this.getMedia();\n\t\t\t\tfor (var ai=0; ai<audios.length; ai++) {\n\t\t\t\t\tlet audio = audios[ai];\n\t\t\t\t\tif (audio.id==this.currentlyPlaying.clip.recording.id) {\n\t\t\t\t\t\tthis.currentlyPlaying.clip.recording.shouldplay = true;\n\t\t\t\t\t\taudio.play();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tpause() {\t\tif (this.currentlyPlaying) {\n\t\t\tif (!!this.elRef) {\n\t\t\t\tlet audios = this.getMedia();\n\t\t\t\tfor (var ai=0; ai<audios.length; ai++) {\n\t\t\t\t\tlet audio = audios[ai];\n\t\t\t\t\taudio.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.recordings.forEach(r => r.shouldplay = false);\n\t\t}\n\t}\n\tgetAudio(rec:Recording) {\n    if (!!this.popout) {\n      let audios = rec.isVideo ? this.popout.document.body.getElementsByTagName('video') :\n        this.popout.document.body.getElementsByTagName('audio');\n      for (var ai=0; ai<audios.length; ai++) {\n        let audio = audios[ai];\n        console.log('audio '+ai+'/'+audios.length+':', audio);\n        if (!!rec && audio.id==rec.id) {\n          return audio;\n        }\n      }\n    }\n\t\telse if (!!this.elRef) {\n\t\t\tlet audios = rec.isVideo ? this.elRef.nativeElement.getElementsByTagName('video') :\n\t\t\t\tthis.elRef.nativeElement.getElementsByTagName('audio');\n\t\t\tfor (var ai=0; ai<audios.length; ai++) {\n\t\t\t\tlet audio = audios[ai];\n\t\t\t\tconsole.log('audio '+ai+'/'+audios.length+':', audio);\n\t\t\t\tif (!!rec && audio.id==rec.id) {\n\t\t\t\t\treturn audio;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tforward() {\n\t\tif (!!this.currentlyPlaying) {\n\t\t\tlet audio = this.getAudio(this.currentlyPlaying.clip.recording);\n\t\t\tif (!!audio) {\n\t\t\t\tlet currentTime = audio.currentTime;\n\t\t\t\tif (audio.duration!=0 && currentTime+10>audio.duration) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t\taudio.currentTime = audio.duration;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\taudio.currentTime = currentTime+10;\n\t\t\t}\n\t\t}\n\t}\n\tback() {\n\t\tif (!!this.currentlyPlaying) {\n\t\t\tlet audio = this.getAudio(this.currentlyPlaying.clip.recording);\n\t\t\tif (!!audio) {\n\t\t\t\tlet currentTime = audio.currentTime;\n\t\t\t\tif (this.currentlyPlaying.part.selected) {\n\t\t\t\t\tif (this.currentlyPlaying.clip.recording.startTime+currentTime-10 < this.currentlyPlaying.startTime)\n\t\t\t\t\t\taudio.currentTime = this.currentlyPlaying.startTime - this.currentlyPlaying.clip.recording.startTime;\n\t\t\t\t\telse if (currentTime>10)\n\t\t\t\t\t\taudio.currentTime = currentTime-10;\n\t\t\t\t\telse\n\t\t\t\t\t\taudio.currentTime = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// performance\n\t\t\t\t\tif (currentTime>10)\n\t\t\t\t\t\taudio.currentTime = currentTime-10;\n\t\t\t\t\telse {\n\t\t\t\t\t\taudio.currentTime = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tnext() {\n\t\tconsole.log('next');\n\t\tif (!!this.currentlyPlaying) {\n\t\t\tif (this.currentlyPlaying.part.selected) {\n\t\t\t\tlet options = this.partPerformances.filter(pp=>pp.part===this.currentlyPlaying.part);\n\t\t\t\tlet ix = (options.indexOf(this.currentlyPlaying)+1) % options.length;\n\t\t\t\tthis.playInternal(options[ix].performance, options[ix].part);\n\t\t\t} else {\n        let pp = this.currentlyPlaying.isClip \n         ? this.partPerformances.filter(pp=>pp.performance===this.currentlyPlaying.performance && \n          pp.playlistOffset>this.currentlyPlaying.playlistOffset).sort((a,b)=>a.playlistOffset-b.playlistOffset).find(()=>true)\n\t\t\t\t : this.partPerformances.filter(pp=>pp.performance===this.currentlyPlaying.performance && \n\t\t\t\t\tpp.startTime>this.currentlyPlaying.startTime).sort((a,b)=>a.startTime-b.startTime).find(()=>true);\n\t\t\t\tif (!!pp)\n\t\t\t\t\tthis.playInternal(pp.performance, pp.part);\n\t\t\t}\n\t\t}\n\t}\n\tprevious() {\n\t\tconsole.log('previous');\n\t\tif (!!this.currentlyPlaying) {\n\t\t\tif (this.currentlyPlaying.part.selected) {\n\t\t\t\tlet options = this.partPerformances.filter(pp=>pp.part===this.currentlyPlaying.part);\n\t\t\t\tlet ix = (options.indexOf(this.currentlyPlaying)+options.length-1) % options.length;\n\t\t\t\tthis.playInternal(options[ix].performance, options[ix].part);\n\t\t\t} else {\n\t\t\t\tlet pp = this.currentlyPlaying.isClip \n          ? this.partPerformances.filter(pp=>pp.performance===this.currentlyPlaying.performance && \n          pp.playlistOffset<this.currentlyPlaying.playlistOffset).sort((a,b)=>b.playlistOffset-a.playlistOffset).find(()=>true)\n          : this.partPerformances.filter(pp=>pp.performance===this.currentlyPlaying.performance && \n\t\t\t\t\tpp.startTime<this.currentlyPlaying.startTime).sort((a,b)=>b.startTime-a.startTime).find(()=>true);\n\t\t\t\tif (!!pp)\n\t\t\t\t\tthis.playInternal(pp.performance, pp.part);\n\t\t\t}\n\t\t}\n\t}\n\tplaySubevent(subevent) {\n\t\tif (!!this.currentlyPlaying) {\n\t\t\tlet audio = this.getAudio(this.currentlyPlaying.clip.recording);\n\t\t\tif (!!audio) {\n\t\t\t\tvar time = subevent.startTime - this.currentlyPlaying.clip.recording.startTime - 3;\n\t\t\t\tconsole.log('seek to subevent '+subevent.startTime+' => '+time);\n\t\t\t\tif (time<0)\n\t\t\t\t\ttime = 0;\n\t\t\t\tif (audio.duration!=0 && time>audio.duration) {\n\t\t\t\t\tthis.pause();\n\t\t\t\t\taudio.currentTime = audio.duration;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\taudio.currentTime = time;\n\t\t\t}\n\t\t}\n\t}\n  addPopoutVideo(rec:Recording) {\n    let parent = this.popout.document.body;\n    let video = this.popout.document.createElement('video');\n    video.setAttribute('id', rec.id);\n    //video.setAttribute('controls', 'true');\n    this.renderer.listen(video, 'canplay', (event) => this.ngZone.run(() => this.audioCanplay(event, rec)));\n    this.renderer.listen(video, 'seeked', (event) => this.ngZone.run(() => this.audioSeeked(event, rec)));\n    this.renderer.listen(video, 'timeupdate', (event) => this.ngZone.run(() => this.audioTimeupdate(event, rec)));\n    this.renderer.listen(video, 'ended', (event) => this.ngZone.run(() => this.audioEnded(event, rec)));\n    //video.addEventListener('canplay', (event) => {console.log(`popout canplay ${rec.id}`)});\n    let url = this.popout.document.createElement('source');\n    url.setAttribute('src', rec.urls[0]);\n    url.setAttribute('type', 'video/mp4');\n    video.appendChild(url);\n    parent.appendChild(video);\n    \n  }\n  createPopoutMedia() {\n    console.log('create popout media...');\n/*\n    let parent = this.popout.document.body;\n    while (parent.firstChild) {\n      parent.removeChild(parent.firstChild);\n    }\n    for (let rec of this.recordings) {\n      if (rec.isVideo) {\n        this.addPopoutVideo(rec);\n      }\n    }\n*/\n    this.checkPopoutMediaVisible();\n  }\n  checkPopoutMediaVisible() {\n    if (!this.popout)\n      return;\n\n    for (let rec of this.recordings) {\n      let video = this.popout.document.getElementById(rec.id);\n      if (!!video) {\n        //video.className = rec.visible ? '' : 'hidden';\n        // make / remove - only one visible\n        if (!rec.visible) {\n          try {\n            // https://stackoverflow.com/questions/28105950/html5-video-stalled-event\n            // clear src and load??\n            (video as HTMLVideoElement).pause();\n            let srcs = video.getElementsByTagName('source');\n            for (let si=0; si<srcs.length; si++) {\n              let src = srcs.item(si);\n              src.setAttribute('src', '');\n            }\n            if (srcs.length===0) {\n              console.log('could not find source element in video (to stop)');\n            }\n            (video as HTMLVideoElement).load();\n          }\n          catch (err) {\n            console.log('Error removing video: '+err.message, err);\n          }\n          video.remove();\n        }\n      } else if (rec.visible) {\n        // create\n        this.addPopoutVideo(rec);\n      }\n    }\n  }\n  clickPlaylistAdd(ev) {\n    this.performances.push(new Playlist('Playlist '+(++this.playlistCount)));\n  }\n  dragPartPerformance(ev, pp: PartPerformance) {\n    console.log('drag pp '+pp.performance.id+' '+pp.part.id);\n    ev.dataTransfer.setData(DRAG_AND_DROP_MIME_TYPE,JSON.stringify({type:'PartPerformance',part:pp.part.id,performance:pp.performance.id}))\n  }\n  dragPart(ev, part: Part) {\n    let pp = this.partPerformances.find(pp => pp.part === part && pp.performance.selected);\n    if (!pp) {\n      console.log('no part performance found');\n      return;\n    }\n    this.dragPartPerformance(ev, pp);\n  }\n  dragoverPerformance(ev, pp:Performance) {\n    if (!pp.isPlaylist)\n      return;\n    ev.preventDefault();\n  }\n  playlistAddPartPerformance(playlist:Playlist, part:string,performance:string, title?:string, startTime?:number, endTime?:number): Clip {\n      let pp = this.partPerformances.find(pp => pp.part.id == part && pp.performance.id == performance);\n      if (!pp) {\n        console.log('error: could not locate part performance '+performance+' '+part);\n        return;\n      }\n      let clip = new Clip(playlist, pp);\n      if (title)\n        clip.label = title;\n      else {\n        clip.label = pp.part.label+' from '+pp.performance.label;\n        if (pp.performance.performers && pp.performance.performers.length>0) {\n          clip.label += ' by ';\n          for (var pi=0; pi<pp.performance.performers.length; pi++) {\n            let p = pp.performance.performers[pi];\n            if (pi>0)\n              clip.label += ', ';\n            clip.label += p.label;\n          }\n        }\n      }\n      this.fixClipStartTimeAndDuration(clip, startTime, endTime);\n      // duration so far\n      let duration = this.partPerformances.filter(pp => pp.playlist === playlist).map(pp => pp.videoClip ? pp.duration : 0).reduce((a,b)=> a+b, 0);\n      console.log('total duration was '+duration+' + '+clip.duration);\n      clip.playlistOffset = duration;\n      this.partPerformances.push(clip);\n      return clip;\n  }\n  dropOnPerformance(ev, pp:Performance) {\n    if (!pp.isPlaylist) {\n      console.log('error: drop on non-playlist');\n      return;\n    }\n    let playlist = pp as Playlist;\n    ev.preventDefault();\n    let data = ev.dataTransfer.getData(DRAG_AND_DROP_MIME_TYPE);\n    console.log('Drop:', data);\n    if (!data)\n      return;\n    let info = JSON.parse(data);\n    if ('PartPerformance'==info.type) {\n      this.playlistAddPartPerformance(playlist, info.part, info.performance);\n      playlist.showFeedback('Added');\n    }\n    else if ('Clip'==info.type) {\n      // handle Clip drop\n      // id, part, performance\n      if (!info.id || !info.part || !info.performance) {\n        console.log('error: ill-formed Clip dropped', info);\n        return;\n      }\n      let clip = this.playlistClips.find(c => c.id == info.id);\n      if (!clip) {\n        console.log(`error, could not find dropped clip ${info.id}`);\n        return;\n      }\n      let newclip = this.playlistAddPartPerformance(playlist, info.part, info.performance, info.title, info.startTime, info.endTime);\n      playlist.showFeedback('Added');\n    }\n    if (this.selectedPerformance === pp)\n      this.refreshSelectedPerformance();\n  }\n  clickClipPlay(ev,clip:Clip) {\n    this.playInternal(clip.playlist, clip.part, clip);\n  }\n  dragClip(ev,clip:Clip) {\n    // TODO playlist ID?\n    ev.dataTransfer.setData(DRAG_AND_DROP_MIME_TYPE,JSON.stringify({\n      type:'Clip',id:clip.id,part:clip.part.id,performance:clip.realPerformance.id,title:clip.label,\n      startTime: Math.abs(clip.startTime-clip.realPartPerformance.startTime)>0.01 ? clip.startTime-clip.realPartPerformance.startTime : null,\n      endTime: Math.abs(clip.startTime+clip.duration-(clip.realPartPerformance.startTime+clip.realPartPerformance.duration))>0.01 ?\n        clip.startTime+clip.duration-clip.realPartPerformance.startTime : null      \n    }))\n  }\n  dragoverClip(ev, clip:Clip) {\n    ev.preventDefault();\n  }\n  dropOnClip(ev,clip:Clip) {\n    ev.preventDefault();\n    let data = ev.dataTransfer.getData(DRAG_AND_DROP_MIME_TYPE);\n    console.log('Drop:', data);\n    if (!data)\n      return;\n    let info = JSON.parse(data);\n    if ('PartPerformance'==info.type) {\n      //this.playlistAddPartPerformance(playlist, info.part, info.performance);\n      // shouldn't happen!\n      console.log('error, PartPerformance drop on Clip');\n      return;\n    }\n    else if ('Clip'==info.type) {\n      // handle Clip drop\n      // id, part, performance\n      if (!info.id || !info.part || !info.performance) {\n        console.log('error: ill-formed Clip dropped', info);\n        return;\n      }\n      // should be re-ordering with current playlist\n      let clipIds = this.playlistClips.map(c => c.id);\n      let targetIx = clipIds.indexOf(clip.id);\n      if (targetIx<0) {\n        console.log(`error: target clip ${clip.id} not found in current list`);\n        return;\n      }\n      let fromIx = clipIds.indexOf(info.id);\n      if (fromIx<0) {\n        console.log(`error: dropped clip ${info.id} not found in current list`);\n        return;\n      }\n      console.log(`move clip from ${fromIx} to ${targetIx}`)\n      if (fromIx==targetIx)\n        return;\n      let fromClip = this.playlistClips[fromIx];\n      this.playlistClips.splice(fromIx, 1);\n      if (targetIx>=fromIx)\n        targetIx--;\n      this.playlistClips.splice(targetIx, 0, fromClip);\n      let playlistOffset = 0;\n      for (let ci=0; ci<this.playlistClips.length; ci++) {\n        let c = this.playlistClips[ci];\n        c.playlistOffset = playlistOffset;\n        if (!c.duration || c.duration<=0) {\n          console.log(`warning, clip ${ci} has duration ${c.duration}`)\n        }\n        playlistOffset += c.duration;\n      }\n      this.refreshSelectedPerformance();\n    }\n  }\n  editPlaylist($event,playlist:Playlist) {\n    console.log('edit playlist', playlist);\n    this.editingPlaylist = playlist;\n    this.editingPlaylistInfo = { title: playlist.label }\n    this.editingPlaylistInfo.items = [];\n    let items = this.partPerformances.filter(pp => pp.playlist === this.editingPlaylist && pp.isClip).sort((a,b) => a.playlistOffset - b.playlistOffset);\n    for (let ii in items) {\n      let item = items[ii] as Clip;\n      let itemInfo : PlaylistItem = {title: item.label, performance: item.realPerformance.id, part: item.part.id};\n      // copy startTime & endTime\n      if (Math.abs(item.startTime - item.realPartPerformance.startTime) > 0.01) {\n        itemInfo.startTime = item.startTime - item.realPartPerformance.startTime;\n      }\n      if (Math.abs(item.startTime + item.duration - (item.realPartPerformance.startTime+item.realPartPerformance.duration)) > 0.01) {\n        itemInfo.endTime = item.startTime + item.duration - item.realPartPerformance.startTime;\n      }\n      this.editingPlaylistInfo.items.push(itemInfo);\n    }\n  }\n  deletePlaylistClips(playlist:Playlist) {\n      for (var ii=0; ii<this.partPerformances.length; ii++) {\n        let item = this.partPerformances[ii];\n        if (item.playlist === playlist) {\n          this.partPerformances.splice(ii,1);\n          ii--;\n        }\n      }\n  }\n  saveEditingPlaylistInternal(info:PlaylistInfo) {\n    if (this.editingPlaylist.selected) {\n      this.stop();\n    }\n    if (this.editingPlaylist) {\n      this.editingPlaylist.label = info.title;\n      //let items = this.partPerformances.filter(pp => pp.playlist === this.editingPlaylist).sort((a,b) => a.playlistOffset - b.playlistOffset);\n      this.deletePlaylistClips(this.editingPlaylist);\n      for (var ix in info.items) {\n        let item = info.items[ix];\n        this.playlistAddPartPerformance(this.editingPlaylist, item.part, item.performance, item.title, item.startTime, item.endTime);\n      }\n      this.fixPlaylistOffsets(this.editingPlaylist);\n      if (this.editingPlaylist.selected) {\n        this.refreshSelectedPerformance();\n      }\n    }\n  }\n  saveEditingPlaylist(info:PlaylistInfo) {\n    console.log('save editing playlist', info);\n    this.saveEditingPlaylistInternal(info);\n    this.cancelEditingPlaylist();\n  }\n  cancelEditingPlaylist() {\n    this.editingPlaylistInfo = null;\n    this.editingPlaylist = null;\n  }\n  deleteEditingPlaylist() {\n    if (!this.editingPlaylist)\n      return;\n    this.deletePlaylistClips(this.editingPlaylist);\n    for (var pi=0; pi<this.performances.length; pi++) {\n      let perf = this.performances[pi];\n      if (perf === this.editingPlaylist) {\n        this.performances.splice(pi,1);\n        pi = pi-1;\n      }\n    }\n    if (this.selectedPerformance=== this.editingPlaylist) {\n      this.selectedPerformance = null;\n      this.playlistClips = [];\n    }\n    this.cancelEditingPlaylist();\n    this.refreshSelectedPerformance();\n  }\n  exportEditingPlaylist(info:PlaylistInfo) {\n    this.saveEditingPlaylistInternal(info);\n    if (this.editingPlaylist) {\n      console.log('export playlist',info);\n      let data = JSON.stringify(info, null, 4);\n      let blob = new Blob([data], {\n            type: \"application/json\"\n        });\n      FileSaver.saveAs(blob, \"playlist \"+info.title+\".json\");\n    }\n    this.cancelEditingPlaylist();\n  }   \n  editPlaylistItem($event,clip:Clip) {\n    console.log('edit clip', clip);\n    this.editingClip = clip;\n    this.editingPlaylistItem = { title: clip.label, performance: clip.realPerformance.id, part: clip.part.id }\n    // copy startTime endTime\n    if (Math.abs(this.editingClip.startTime - this.editingClip.realPartPerformance.startTime) > 0.01) {\n      this.editingPlaylistItem.startTime = this.editingClip.startTime - this.editingClip.realPartPerformance.startTime;\n    }\n    if (Math.abs(this.editingClip.startTime +this.editingClip.duration - (this.editingClip.realPartPerformance.startTime + this.editingClip.realPartPerformance.duration)) > 0.01) {\n      this.editingPlaylistItem.endTime = this.editingClip.startTime +this.editingClip.duration - this.editingClip.realPartPerformance.startTime;\n    }\n    this.pause();\n    if (this.currentlyPlaying === clip && clip.clip.recording) {\n      // audio or video?\n      if (this.showVideo)\n        this.editingPlaylistItem.currentTime = clip.videoClip.recording.lastTime - clip.realPartPerformance.videoClip.start;\n      else\n        this.editingPlaylistItem.currentTime = clip.audioClip.recording.lastTime - clip.realPartPerformance.audioClip.start;\n    }\n  }\n  fixClipStartTimeAndDuration(clip:Clip, startTime?:number, endTime?:number) {\n    // set start time\n    if (!startTime || startTime<0)\n      startTime = 0;\n    if (startTime > clip.realPartPerformance.duration)\n      startTime = clip.realPartPerformance.duration;\n    if (!endTime || endTime > clip.realPartPerformance.duration)\n      endTime = clip.realPartPerformance.duration;\n    if (endTime<startTime)\n      endTime = startTime;\n    clip.hasStartOffset = Math.abs(startTime) > 0.01;\n    clip.hasEndOffset = Math.abs(endTime - clip.realPartPerformance.duration) > 0.01;\n    clip.startTime = clip.realPartPerformance.startTime+startTime;\n    let duration = endTime - startTime;\n    clip.duration = duration;\n    //console.log(`clip startTime = ${this.editingClip}`)\n    if (clip.videoClip && clip.realPartPerformance.videoClip) {\n      clip.videoClip.start = clip.realPartPerformance.videoClip.start + startTime;\n      clip.videoClip.duration = duration;\n    }\n    if (clip.audioClip && clip.realPartPerformance.audioClip) {\n      clip.audioClip.start = clip.realPartPerformance.audioClip.start + startTime;\n      clip.audioClip.duration = duration;\n    }\n    if (clip.clip && clip.realPartPerformance.clip) {\n      clip.clip.start = clip.realPartPerformance.clip.start + startTime;\n      clip.clip.duration = duration;\n    }\n\n  }\n  saveEditingPlaylistItem(info:PlaylistItem) {\n    console.log('save editing playlist item', info);\n    if (!this.editingClip)\n      return;\n    this.editingClip.label = info.title;\n    this.fixClipStartTimeAndDuration(this.editingClip, info.startTime, info.endTime);\n    this.fixPlaylistOffsets(this.editingClip.performance);\n    this.cancelEditingPlaylistItem();\n  }\n  cancelEditingPlaylistItem() {\n    this.editingPlaylistItem = null;\n    this.editingClip = null;\n  }\n  deleteEditingPlaylistItem() {\n    if (!this.editingClip)\n      return;\n    \n    for (var ii=0; ii<this.partPerformances.length; ii++) {\n      let item = this.partPerformances[ii];\n      if (item === this.editingClip) {\n        this.partPerformances.splice(ii,1);\n        ii--;\n      }\n    }\n    if (this.selectedPerformance=== this.editingPlaylist) {\n      for (var ii=0; ii<this.playlistClips.length; ii++) {\n        let item = this.playlistClips[ii];\n        if (item === this.editingClip) {\n          this.playlistClips.splice(ii, 1);\n          ii--;\n        }\n      }\n    }\n    this.fixPlaylistOffsets(this.editingClip.performance)\n    if (this.currentlyPlaying === this.editingClip)\n      this.stop();\n    this.cancelEditingPlaylistItem();\n    this.refreshSelectedPerformance();\n  }\n  fixPlaylistOffsets(performance:Performance) {\n    // times...\n    let otherClips = this.partPerformances.filter(pp => pp.performance === performance && pp.isClip)\n      .sort((a,b) => a.playlistOffset - b.playlistOffset);\n    let playlistOffset = 0;\n    for (let ci=0; ci<otherClips.length; ci++) {\n      let c = otherClips[ci];\n      c.playlistOffset = playlistOffset;\n      if (!c.duration || c.duration<=0) {\n        console.log(`warning, clip ${ci} has duration ${c.duration}`)\n      }\n      playlistOffset += c.duration;\n    }\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/work-explorer.component.ts","module.exports = \"<div class=\\\"container\\\">\\n<h1>Works</h1>\\n<div class=\\\"row\\\">\\n\\t<div *ngFor=\\\"let work of works\\\" class=\\\"col-md-4\\\">\\n\\t\\t<a [routerLink]=\\\"['/explore', work.id]\\\">Explore {{work.label}}</a>\\n\\t</div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /root/work/src/app/works.component.html\n// module id = ../../../../../src/app/works.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { RecordsService } from './records.service';\nimport { Entity } from './entity';\n \n@Component({\n  selector: 'my-works',\n  templateUrl: './works.component.html'\n})\nexport class WorksComponent implements OnInit {\n  works: Entity[];\n\n  constructor(private recordsService: RecordsService) { }\n\n  ngOnInit(): void {\n    this.recordsService.getWorks()\n    .then(works => this.works = works.sort((a,b) => a.compareTo(b,'rdfs:label')));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/app/works.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /root/work/src/main.ts"],"sourceRoot":"webpack:///"}